[debug] [2021-01-12T18:08:43.507Z] ----------------------------------------------------------------------
[debug] [2021-01-12T18:08:43.509Z] Command:       /usr/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-01-12T18:08:43.509Z] CLI Version:   9.1.2
[debug] [2021-01-12T18:08:43.509Z] Platform:      linux
[debug] [2021-01-12T18:08:43.509Z] Node Version:  v10.19.0
[debug] [2021-01-12T18:08:43.510Z] Time:          Tue Jan 12 2021 10:08:43 GMT-0800 (Pacific Standard Time)
[debug] [2021-01-12T18:08:43.510Z] ----------------------------------------------------------------------
[debug] [2021-01-12T18:08:43.510Z] 
[debug] [2021-01-12T18:08:43.512Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2021-01-12T18:08:43.531Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-01-12T18:08:43.555Z] FirebaseError: Failed to authenticate, have you run firebase login?
[warn] ⚠  emulators: You are not currently authenticated so some features may not work correctly. Please run firebase login to authenticate the CLI. 
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-01-12T18:08:43.580Z] [hub] writing locator at /tmp/hub-clone-4d425.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "10" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"10\""}}
[debug] [2021-01-12T18:08:43.605Z] defaultcredentials: no credential available.
[warn] ⚠  functions: You are not signed in to the Firebase CLI. If you have authorized this machine using gcloud application-default credentials those may be discovered and used to access production services. {"metadata":{"emulator":{"name":"functions"},"message":"You are not signed in to the Firebase CLI. If you have authorized this machine using gcloud application-default credentials those may be discovered and used to access production services."}}
[debug] [2021-01-12T18:08:43.606Z] > refreshing access token with scopes: []
[debug] [2021-01-12T18:08:43.607Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-01-12T18:08:43.712Z] <<< HTTP RESPONSE 400 {"pragma":"no-cache","date":"Tue, 12 Jan 2021 18:08:43 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-01-12T18:08:43.713Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-4d425/adminSdkConfig [none]
[debug] [2021-01-12T18:08:43.753Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2021-01-12T18:08:43.753Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2021-01-12T18:08:43.797Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-4d425/adminSdkConfig 401
[debug] [2021-01-12T18:08:43.798Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-4d425/adminSdkConfig {"error":{"code":401,"message":"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2021-01-12T18:08:43.799Z] Failed to get Admin SDK config for clone-4d425, falling back to cache Failed to get Admin SDK for Firebase project clone-4d425. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project clone-4d425. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":401,"message":"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}},"response":{"statusCode":401}},"exit":1,"message":"HTTP Error: 401, Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":401},"status":500}
[warn] ⚠  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2021-01-12T18:08:43.809Z] > refreshing access token with scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-01-12T18:08:43.809Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-01-12T18:08:43.864Z] <<< HTTP RESPONSE 400 {"pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","date":"Tue, 12 Jan 2021 18:08:43 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-01-12T18:08:43.864Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/clone-4d425/webApps/-/config  
 
[debug] [2021-01-12T18:08:43.911Z] <<< HTTP RESPONSE 401 {"www-authenticate":"Bearer realm=\"https://accounts.google.com/\", error=\"invalid_token\"","vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Tue, 12 Jan 2021 18:08:43 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-01-12T18:08:43.911Z] <<< HTTP RESPONSE BODY {"error":{"code":401,"message":"Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.","status":"UNAUTHENTICATED"}}
[debug] [2021-01-12T18:08:43.913Z] fetchWebSetup error: FirebaseError: HTTP Error: 401, Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
[warn] ⚠  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.4.1.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.4.1.zip..."}}
[debug] [2021-01-12T18:08:43.954Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip [none]
[debug] [2021-01-12T18:08:44.085Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip 200
[debug] [2021-01-12T18:08:44.085Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.4.1.zip [stream]
[debug] [2021-01-12T18:08:44.580Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-01-12T18:08:44.580Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-01-12T18:08:44.581Z] Starting Emulator UI with command {"binary":"node","args":["/home/jim/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/jim/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-01-12T18:08:45.175Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/home/jim/Documents/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/jim/Documents/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-01-12T18:08:45.366Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-01-12T18:08:45.367Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-01-12T18:08:45.367Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-01-12T18:08:45.368Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: Assigning socketPath: /tmp/fire_emu_54220.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: Assigning socketPath: /tmp/fire_emu_54220.sock"}}
[debug] [2021-01-12T18:08:45.368Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: BUSY"}}
[debug] [2021-01-12T18:08:45.925Z] [runtime-status] [54220] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:08:45.929Z] [runtime-status] [54220] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:08:45.931Z] [runtime-status] [54220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.931Z] [runtime-status] [54220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.933Z] [runtime-status] [54220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.939Z] [runtime-status] [54220] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:08:45.941Z] [runtime-status] [54220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.987Z] [runtime-status] [54220] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:08:45.987Z] [runtime-status] [54220] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:08:45.988Z] [runtime-status] [54220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.995Z] [runtime-status] [54220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.996Z] [runtime-status] [54220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:08:45.996Z] [runtime-status] [54220] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [54220] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-4d425/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-4d425/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-01-12T18:08:46.103Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: IDLE"}}
[debug] [2021-01-12T18:10:56.661Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T18:10:56.671Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T18:10:56.679Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=18395 --> api
[debug] [2021-01-12T18:10:56.705Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:10:56.708Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-01-12T18:10:56.709Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:10:56.710Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:10:56.711Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY"}}
[debug] [2021-01-12T18:10:57.770Z] [runtime-status] [54516] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:10:57.773Z] [runtime-status] [54516] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:10:57.776Z] [runtime-status] [54516] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.780Z] [runtime-status] [54516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.781Z] [runtime-status] [54516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.789Z] [runtime-status] [54516] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:10:57.789Z] [runtime-status] [54516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.831Z] [runtime-status] [54516] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:10:57.831Z] [runtime-status] [54516] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:10:57.832Z] [runtime-status] [54516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.833Z] [runtime-status] [54516] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.834Z] [runtime-status] [54516] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:10:57.834Z] [runtime-status] [54516] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:10:57.920Z] [runtime-status] [54516] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:10:57.922Z] [runtime-status] [54516] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:10:57.922Z] [runtime-status] [54516] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:10:57.926Z] [runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:10:57.930Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:10:57.937Z] [runtime-status] [54516] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server handling POST request"}}
[info] >  Payment request received for  18395 {"user":"Payment request received for  18395","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  18395"}}
[debug] [2021-01-12T18:10:57.949Z] [runtime-status] [54516] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T18:10:58.289Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: IDLE"}}
[debug] [2021-01-12T18:10:58.289Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T18:17:10.724Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T18:17:10.725Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T18:17:10.725Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=8097 --> api
[debug] [2021-01-12T18:17:10.725Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:17:10.725Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:17:10.726Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY"}}
[debug] [2021-01-12T18:17:10.731Z] [runtime-status] [54516] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:17:10.733Z] [runtime-status] [54516] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:17:10.733Z] [runtime-status] [54516] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:17:10.734Z] [runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:17:10.738Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:17:10.761Z] [runtime-status] [54516] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server handling POST request"}}
[debug] [2021-01-12T18:17:10.761Z] [runtime-status] [54516] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server survived."}}
[info] >  Payment request received for  8097 {"user":"Payment request received for  8097","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  8097"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T18:17:10.979Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: IDLE"}}
[debug] [2021-01-12T18:17:10.979Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T18:20:33.241Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T18:20:33.241Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T18:20:33.241Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T18:20:33.241Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:20:33.242Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: Assigning socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:20:33.242Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: BUSY"}}
[debug] [2021-01-12T18:20:33.242Z] [runtime-status] [54516] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:20:33.243Z] [runtime-status] [54516] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:20:33.243Z] [runtime-status] [54516] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:20:33.244Z] [runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Attempting to listen to socketPath: /tmp/fire_emu_54516.sock"}}
[debug] [2021-01-12T18:20:33.244Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:20:33.273Z] [runtime-status] [54516] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server handling POST request"}}
[debug] [2021-01-12T18:20:33.273Z] [runtime-status] [54516] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [54516] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:54516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:54516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:54516) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:54516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:54516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:54516) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:54516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:54516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:54516) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T18:20:58.527Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T18:20:58.527Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T18:20:58.527Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T18:20:58.539Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:20:58.539Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T18:20:58.539Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:20:58.540Z] [worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: Assigning socketPath: /tmp/fire_emu_55418.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: Assigning socketPath: /tmp/fire_emu_55418.sock"}}
[debug] [2021-01-12T18:20:58.540Z] [worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: BUSY"}}
[debug] [2021-01-12T18:20:59.310Z] [runtime-status] [55418] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:20:59.313Z] [runtime-status] [55418] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:20:59.316Z] [runtime-status] [55418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.319Z] [runtime-status] [55418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.320Z] [runtime-status] [55418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.327Z] [runtime-status] [55418] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:20:59.327Z] [runtime-status] [55418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.382Z] [runtime-status] [55418] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:20:59.382Z] [runtime-status] [55418] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:20:59.383Z] [runtime-status] [55418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.385Z] [runtime-status] [55418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.385Z] [runtime-status] [55418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:20:59.385Z] [runtime-status] [55418] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:20:59.469Z] [runtime-status] [55418] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:20:59.471Z] [runtime-status] [55418] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:20:59.471Z] [runtime-status] [55418] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:20:59.475Z] [runtime-status] [55418] Attempting to listen to socketPath: /tmp/fire_emu_55418.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Attempting to listen to socketPath: /tmp/fire_emu_55418.sock"}}
[debug] [2021-01-12T18:20:59.478Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:20:59.485Z] [runtime-status] [55418] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T18:20:59.497Z] [runtime-status] [55418] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55418] Ephemeral server survived."}}
[info] >  (node:55418) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:55418) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55418) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:55418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:55418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:55418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:55418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T18:21:28.623Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T18:21:28.623Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T18:21:28.623Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T18:21:28.648Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:21:28.648Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T18:21:28.648Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:21:28.648Z] [worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: Assigning socketPath: /tmp/fire_emu_55491.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: Assigning socketPath: /tmp/fire_emu_55491.sock"}}
[debug] [2021-01-12T18:21:28.649Z] [worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: BUSY"}}
[debug] [2021-01-12T18:21:29.417Z] [runtime-status] [55491] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:21:29.420Z] [runtime-status] [55491] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:21:29.422Z] [runtime-status] [55491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.423Z] [runtime-status] [55491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.424Z] [runtime-status] [55491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.428Z] [runtime-status] [55491] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:21:29.430Z] [runtime-status] [55491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.466Z] [runtime-status] [55491] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:21:29.466Z] [runtime-status] [55491] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:21:29.467Z] [runtime-status] [55491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.468Z] [runtime-status] [55491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.469Z] [runtime-status] [55491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:21:29.469Z] [runtime-status] [55491] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:21:29.547Z] [runtime-status] [55491] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:21:29.548Z] [runtime-status] [55491] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:21:29.548Z] [runtime-status] [55491] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:21:29.553Z] [runtime-status] [55491] Attempting to listen to socketPath: /tmp/fire_emu_55491.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Attempting to listen to socketPath: /tmp/fire_emu_55491.sock"}}
[debug] [2021-01-12T18:21:29.556Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:21:29.564Z] [runtime-status] [55491] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T18:21:29.578Z] [runtime-status] [55491] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55491] Ephemeral server survived."}}
[info] >  (node:55491) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:55491) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55491) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:55491) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:55491) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55491) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:55491) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:55491) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55491) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T18:21:33.257Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: exited"}}
[debug] [2021-01-12T18:21:33.257Z] [worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1835ae5d-c326-4986-a7dc-6a4388e5ebcd]: FINISHED"}}
[debug] [2021-01-12T18:21:33.257Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T18:21:59.484Z] [worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: exited"}}
[debug] [2021-01-12T18:21:59.484Z] [worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5731aa5e-1df0-431e-8908-8c436bba39e2]: FINISHED"}}
[debug] [2021-01-12T18:21:59.484Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T18:22:20.335Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T18:22:20.335Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T18:22:20.335Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T18:22:20.335Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-01-12T18:22:20.347Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:22:20.348Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T18:22:20.348Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:22:20.349Z] [worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: Assigning socketPath: /tmp/fire_emu_55572.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: Assigning socketPath: /tmp/fire_emu_55572.sock"}}
[debug] [2021-01-12T18:22:20.349Z] [worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: BUSY"}}
[debug] [2021-01-12T18:22:21.924Z] [runtime-status] [55572] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:22:21.926Z] [runtime-status] [55572] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:22:21.929Z] [runtime-status] [55572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:21.931Z] [runtime-status] [55572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:21.935Z] [runtime-status] [55572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:21.941Z] [runtime-status] [55572] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:22:21.941Z] [runtime-status] [55572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:21.998Z] [runtime-status] [55572] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:22:21.999Z] [runtime-status] [55572] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:22.008Z] [runtime-status] [55572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:22.009Z] [runtime-status] [55572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:22.009Z] [runtime-status] [55572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:22.010Z] [runtime-status] [55572] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:22.112Z] [runtime-status] [55572] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:22:22.113Z] [runtime-status] [55572] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:22:22.113Z] [runtime-status] [55572] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:22:22.123Z] [runtime-status] [55572] Attempting to listen to socketPath: /tmp/fire_emu_55572.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Attempting to listen to socketPath: /tmp/fire_emu_55572.sock"}}
[debug] [2021-01-12T18:22:22.123Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:22:22.132Z] [runtime-status] [55572] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T18:22:22.149Z] [runtime-status] [55572] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55572] Ephemeral server survived."}}
[info] >  (node:55572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:55572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:55572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:55572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:55572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:55572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T18:22:25.987Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T18:22:25.987Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T18:22:25.988Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T18:22:26.005Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:22:26.006Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T18:22:26.007Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:22:26.007Z] [worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: Assigning socketPath: /tmp/fire_emu_55601.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: Assigning socketPath: /tmp/fire_emu_55601.sock"}}
[debug] [2021-01-12T18:22:26.007Z] [worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: BUSY"}}
[debug] [2021-01-12T18:22:27.476Z] [runtime-status] [55601] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:22:27.481Z] [runtime-status] [55601] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:22:27.487Z] [runtime-status] [55601] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.487Z] [runtime-status] [55601] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.487Z] [runtime-status] [55601] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.503Z] [runtime-status] [55601] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:22:27.505Z] [runtime-status] [55601] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.637Z] [runtime-status] [55601] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:22:27.637Z] [runtime-status] [55601] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:27.641Z] [runtime-status] [55601] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.641Z] [runtime-status] [55601] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.641Z] [runtime-status] [55601] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:27.641Z] [runtime-status] [55601] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:27.837Z] [runtime-status] [55601] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:22:27.841Z] [runtime-status] [55601] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:22:27.841Z] [runtime-status] [55601] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:22:27.854Z] [runtime-status] [55601] Attempting to listen to socketPath: /tmp/fire_emu_55601.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Attempting to listen to socketPath: /tmp/fire_emu_55601.sock"}}
[debug] [2021-01-12T18:22:27.869Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:22:27.893Z] [runtime-status] [55601] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T18:22:27.940Z] [runtime-status] [55601] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55601] Ephemeral server survived."}}
[info] >  (node:55601) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:55601) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55601) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:55601) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:55601) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55601) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:55601) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:55601) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55601) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T18:22:29.566Z] [worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: exited"}}
[debug] [2021-01-12T18:22:29.566Z] [worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ded67c10-2e3c-4ef5-a4e4-cacbce6d5bfe]: FINISHED"}}
[debug] [2021-01-12T18:22:29.566Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T18:22:42.552Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T18:22:42.552Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T18:22:42.552Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=224994 --> api
[debug] [2021-01-12T18:22:42.553Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2021-01-12T18:22:42.577Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T18:22:42.578Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T18:22:42.578Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:22:42.578Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T18:22:42.578Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T18:22:43.780Z] [runtime-status] [55646] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T18:22:43.783Z] [runtime-status] [55646] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Disabled runtime features: undefined"}}
[debug] [2021-01-12T18:22:43.785Z] [runtime-status] [55646] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.787Z] [runtime-status] [55646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.790Z] [runtime-status] [55646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.794Z] [runtime-status] [55646] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T18:22:43.799Z] [runtime-status] [55646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.836Z] [runtime-status] [55646] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T18:22:43.837Z] [runtime-status] [55646] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:43.837Z] [runtime-status] [55646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.841Z] [runtime-status] [55646] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.841Z] [runtime-status] [55646] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T18:22:43.841Z] [runtime-status] [55646] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T18:22:43.925Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:22:43.926Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:22:43.926Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:22:43.931Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T18:22:43.934Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:22:43.943Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[info] >  Payment request received for  224994 {"user":"Payment request received for  224994","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  224994"}}
[debug] [2021-01-12T18:22:43.959Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T18:22:44.374Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T18:22:44.375Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T18:23:22.141Z] [worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: exited"}}
[debug] [2021-01-12T18:23:22.141Z] [worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-002c0466-8ff7-4cc8-8d63-5af03955130a]: FINISHED"}}
[debug] [2021-01-12T18:23:22.141Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T18:23:27.871Z] [worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: exited"}}
[debug] [2021-01-12T18:23:27.872Z] [worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7ffa48c4-18f4-467c-8228-9f2607338120]: FINISHED"}}
[debug] [2021-01-12T18:23:27.873Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T18:25:28.912Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T18:25:28.912Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T18:25:28.912Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T18:25:28.912Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-01-12T18:25:28.912Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T18:25:28.913Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T18:25:28.913Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T18:25:28.922Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T18:25:28.925Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T18:25:28.925Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T18:25:28.930Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T18:25:28.931Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T18:25:28.940Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[info] >  Payment request received for  199998 {"user":"Payment request received for  199998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  199998"}}
[debug] [2021-01-12T18:25:28.943Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T18:25:29.159Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T18:25:29.159Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:36:57.320Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:36:57.320Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:36:57.320Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T19:36:57.321Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:36:57.321Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:36:57.321Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T19:36:57.323Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:36:57.324Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:36:57.325Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:36:57.325Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:36:57.326Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:36:57.330Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[info] >  Payment request received for  199998 {"user":"Payment request received for  199998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  199998"}}
[debug] [2021-01-12T19:36:57.331Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:36:57.550Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T19:36:57.550Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:44:58.983Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:44:58.983Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:44:58.983Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T19:44:58.983Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:44:58.983Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:44:58.984Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T19:44:58.988Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:44:58.990Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:44:58.990Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:44:58.990Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:44:58.990Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:44:59.015Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[debug] [2021-01-12T19:44:59.016Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:44:59.205Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T19:44:59.205Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:48:08.201Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:48:08.201Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:48:08.202Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T19:48:08.202Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:48:08.203Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:08.203Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T19:48:08.203Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:48:08.206Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:48:08.208Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:48:08.209Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:08.211Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:48:08.223Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[debug] [2021-01-12T19:48:08.227Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:48:08.416Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T19:48:08.416Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:48:35.003Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:48:35.003Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:48:35.003Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T19:48:35.003Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:48:35.003Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:35.004Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T19:48:35.005Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:48:35.006Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:48:35.006Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:48:35.006Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:35.007Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:48:35.040Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[debug] [2021-01-12T19:48:35.040Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:48:35.381Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: IDLE"}}
[debug] [2021-01-12T19:48:35.382Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:48:38.528Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:48:38.529Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:48:38.529Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T19:48:38.530Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:48:38.530Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: Assigning socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:38.533Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: BUSY"}}
[debug] [2021-01-12T19:48:38.537Z] [runtime-status] [55646] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:48:38.538Z] [runtime-status] [55646] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:48:38.538Z] [runtime-status] [55646] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:48:38.538Z] [runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Attempting to listen to socketPath: /tmp/fire_emu_55646.sock"}}
[debug] [2021-01-12T19:48:38.539Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:48:38.545Z] [runtime-status] [55646] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server handling POST request"}}
[debug] [2021-01-12T19:48:38.546Z] [runtime-status] [55646] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [55646] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:55646) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:55646) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55646) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:55646) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:55646) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55646) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:55646) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:55646) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:55646) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T19:48:45.566Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T19:48:45.566Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T19:48:45.566Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T19:48:45.597Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T19:48:45.597Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T19:48:45.597Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:48:45.597Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:48:45.597Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T19:48:46.266Z] [runtime-status] [58954] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T19:48:46.268Z] [runtime-status] [58954] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Disabled runtime features: undefined"}}
[debug] [2021-01-12T19:48:46.271Z] [runtime-status] [58954] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.272Z] [runtime-status] [58954] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.273Z] [runtime-status] [58954] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.283Z] [runtime-status] [58954] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T19:48:46.285Z] [runtime-status] [58954] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.338Z] [runtime-status] [58954] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T19:48:46.339Z] [runtime-status] [58954] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T19:48:46.339Z] [runtime-status] [58954] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.341Z] [runtime-status] [58954] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.341Z] [runtime-status] [58954] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T19:48:46.342Z] [runtime-status] [58954] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T19:48:46.446Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:48:46.447Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:48:46.447Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:48:46.456Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:48:46.465Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:48:46.489Z] [runtime-status] [58954] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling POST request"}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[debug] [2021-01-12T19:48:46.524Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:48:46.857Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T19:48:46.857Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T19:49:38.564Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: exited"}}
[debug] [2021-01-12T19:49:38.568Z] [worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-bf11df2d-d109-42a5-96f2-5644a641554e]: FINISHED"}}
[debug] [2021-01-12T19:49:38.569Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:52:31.022Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:52:31.022Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:52:31.022Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T19:52:31.022Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-01-12T19:52:31.023Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:52:31.023Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:52:31.023Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T19:52:31.030Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:52:31.030Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:52:31.030Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:52:31.031Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:52:31.032Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:52:31.046Z] [runtime-status] [58954] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling POST request"}}
[debug] [2021-01-12T19:52:31.048Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:52:31.251Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T19:52:31.252Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T19:59:17.863Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T19:59:17.864Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T19:59:17.864Z] Accepted request GET /clone-4d425/us-central1/api --> api
[debug] [2021-01-12T19:59:17.864Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T19:59:17.865Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:59:17.865Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T19:59:17.867Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T19:59:17.869Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T19:59:17.869Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T19:59:17.869Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T19:59:17.870Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T19:59:17.891Z] [runtime-status] [58954] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling GET request"}}
[debug] [2021-01-12T19:59:17.893Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T19:59:17.907Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T19:59:17.907Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T20:00:23.571Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T20:00:23.571Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:00:23.571Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=89998 --> api
[debug] [2021-01-12T20:00:23.571Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:23.571Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:23.571Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T20:00:23.572Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:23.573Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:23.573Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:23.573Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:23.573Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:23.578Z] [runtime-status] [58954] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T20:00:23.578Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:00:23.582Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T20:00:23.582Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T20:00:23.597Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T20:00:23.598Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:00:23.598Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=89998 --> api
[debug] [2021-01-12T20:00:23.599Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:23.599Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:23.599Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T20:00:23.601Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:23.605Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:23.605Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:23.605Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:23.605Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:23.607Z] [runtime-status] [58954] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling POST request"}}
[info] >  Payment request received for  89998 {"user":"Payment request received for  89998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  89998"}}
[debug] [2021-01-12T20:00:23.616Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:00:24.134Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T20:00:24.135Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T20:00:30.232Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T20:00:30.232Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:00:30.233Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T20:00:30.233Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:30.233Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:30.233Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T20:00:30.234Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:30.234Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:30.235Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:30.235Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:30.235Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:30.250Z] [runtime-status] [58954] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T20:00:30.252Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[debug] [2021-01-12T20:00:30.259Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T20:00:30.260Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T20:00:30.260Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T20:00:30.287Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T20:00:30.287Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T20:00:30.288Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:30.288Z] [worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: Assigning socketPath: /tmp/fire_emu_59542.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: Assigning socketPath: /tmp/fire_emu_59542.sock"}}
[debug] [2021-01-12T20:00:30.288Z] [worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:00:30.297Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T20:00:30.297Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:00:31.557Z] [runtime-status] [59542] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T20:00:31.564Z] [runtime-status] [59542] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Disabled runtime features: undefined"}}
[debug] [2021-01-12T20:00:31.570Z] [runtime-status] [59542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.576Z] [runtime-status] [59542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.582Z] [runtime-status] [59542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.592Z] [runtime-status] [59542] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T20:00:31.593Z] [runtime-status] [59542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.674Z] [runtime-status] [59542] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T20:00:31.675Z] [runtime-status] [59542] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T20:00:31.677Z] [runtime-status] [59542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.680Z] [runtime-status] [59542] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.680Z] [runtime-status] [59542] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:00:31.680Z] [runtime-status] [59542] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T20:00:31.920Z] [runtime-status] [59542] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:31.921Z] [runtime-status] [59542] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:31.921Z] [runtime-status] [59542] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:31.935Z] [runtime-status] [59542] Attempting to listen to socketPath: /tmp/fire_emu_59542.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Attempting to listen to socketPath: /tmp/fire_emu_59542.sock"}}
[debug] [2021-01-12T20:00:31.940Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:31.952Z] [runtime-status] [59542] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T20:00:31.973Z] [runtime-status] [59542] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [59542] Ephemeral server survived."}}
[info] >  (node:59542) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:59542) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:59542) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:59542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:59542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:59542) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:59542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:59542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:59542) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T20:00:36.478Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T20:00:36.478Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T20:00:36.478Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T20:00:36.479Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:36.479Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:36.479Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T20:00:36.481Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:36.482Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:36.483Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:36.483Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:36.483Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:36.488Z] [runtime-status] [58954] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T20:00:36.489Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:00:36.494Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T20:00:36.495Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:00:36.506Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T20:00:36.507Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T20:00:36.507Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T20:00:36.507Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:00:36.507Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: Assigning socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:36.507Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: BUSY"}}
[debug] [2021-01-12T20:00:36.510Z] [runtime-status] [58954] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:00:36.511Z] [runtime-status] [58954] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:00:36.512Z] [runtime-status] [58954] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:00:36.512Z] [runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Attempting to listen to socketPath: /tmp/fire_emu_58954.sock"}}
[debug] [2021-01-12T20:00:36.512Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:00:36.515Z] [runtime-status] [58954] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T20:00:36.516Z] [runtime-status] [58954] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [58954] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:00:36.704Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: IDLE"}}
[debug] [2021-01-12T20:00:36.705Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T20:01:31.933Z] [worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: exited"}}
[debug] [2021-01-12T20:01:31.934Z] [worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6110603b-fed9-46ee-bfb1-2e75862e47ca]: FINISHED"}}
[debug] [2021-01-12T20:01:31.934Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T20:04:51.460Z] File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-01-12T20:04:52.462Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-01-12T20:04:52.462Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: FINISHING"}}
[debug] [2021-01-12T20:04:52.462Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-01-12T20:04:52.463Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: FINISHING"}}
[debug] [2021-01-12T20:04:52.463Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-01-12T20:04:52.471Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-01-12T20:04:52.471Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-01-12T20:04:52.471Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-01-12T20:04:52.471Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: Assigning socketPath: /tmp/fire_emu_59918.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: Assigning socketPath: /tmp/fire_emu_59918.sock"}}
[debug] [2021-01-12T20:04:52.471Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: BUSY"}}
[debug] [2021-01-12T20:04:52.474Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: exited"}}
[debug] [2021-01-12T20:04:52.474Z] [worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-55e85be0-a88e-4307-b185-20b02c106456]: FINISHED"}}
[debug] [2021-01-12T20:04:52.474Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: exited"}}
[debug] [2021-01-12T20:04:52.474Z] [worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b4019c1f-9ff5-43ed-9057-9ac8a6aa1a83]: FINISHED"}}
[debug] [2021-01-12T20:04:53.148Z] [runtime-status] [59918] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T20:04:53.154Z] [runtime-status] [59918] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Disabled runtime features: undefined"}}
[debug] [2021-01-12T20:04:53.158Z] [runtime-status] [59918] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.160Z] [runtime-status] [59918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.162Z] [runtime-status] [59918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.169Z] [runtime-status] [59918] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T20:04:53.172Z] [runtime-status] [59918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.229Z] [runtime-status] [59918] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T20:04:53.230Z] [runtime-status] [59918] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T20:04:53.233Z] [runtime-status] [59918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.234Z] [runtime-status] [59918] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.236Z] [runtime-status] [59918] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:04:53.236Z] [runtime-status] [59918] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [59918] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T20:04:53.366Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: IDLE"}}
[debug] [2021-01-12T20:06:33.083Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T20:06:33.083Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:06:33.083Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=134997 --> api
[debug] [2021-01-12T20:06:33.084Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-01-12T20:06:33.084Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-01-12T20:06:33.108Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T20:06:33.108Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-01-12T20:06:33.108Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:06:33.108Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T20:06:33.108Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T20:06:33.800Z] [runtime-status] [60046] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T20:06:33.803Z] [runtime-status] [60046] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Disabled runtime features: undefined"}}
[debug] [2021-01-12T20:06:33.805Z] [runtime-status] [60046] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.807Z] [runtime-status] [60046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.809Z] [runtime-status] [60046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.814Z] [runtime-status] [60046] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T20:06:33.815Z] [runtime-status] [60046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.858Z] [runtime-status] [60046] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T20:06:33.858Z] [runtime-status] [60046] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T20:06:33.859Z] [runtime-status] [60046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.861Z] [runtime-status] [60046] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.862Z] [runtime-status] [60046] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T20:06:33.862Z] [runtime-status] [60046] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T20:06:33.969Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:06:33.971Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:06:33.971Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:06:33.982Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T20:06:33.987Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:06:33.998Z] [runtime-status] [60046] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T20:06:34.011Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:06:34.015Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T20:06:34.015Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T20:06:34.019Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T20:06:34.019Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T20:06:34.019Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=134997 --> api
[debug] [2021-01-12T20:06:34.019Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T20:06:34.020Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T20:06:34.020Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T20:06:34.024Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T20:06:34.025Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T20:06:34.025Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T20:06:34.027Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T20:06:34.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T20:06:34.045Z] [runtime-status] [60046] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling POST request"}}
[info] >  Payment request received for  134997 {"user":"Payment request received for  134997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  134997"}}
[debug] [2021-01-12T20:06:34.069Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T20:06:34.618Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T20:06:34.618Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:02:20.303Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:02:20.303Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:02:20.304Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=224994 --> api
[debug] [2021-01-12T21:02:20.304Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:02:20.305Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:02:20.305Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:02:20.312Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:02:20.314Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:02:20.315Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:02:20.315Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:02:20.316Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:02:20.333Z] [runtime-status] [60046] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:02:20.334Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:02:20.335Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:02:20.335Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:02:20.377Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:02:20.378Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:02:20.378Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=224994 --> api
[debug] [2021-01-12T21:02:20.379Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:02:20.380Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:02:20.381Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:02:20.382Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:02:20.383Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:02:20.383Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:02:20.385Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:02:20.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:02:20.400Z] [runtime-status] [60046] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:02:20.401Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] >  Payment request received for  224994 {"user":"Payment request received for  224994","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  224994"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:02:20.643Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:02:20.643Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:03:13.841Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:03:13.842Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:03:13.842Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T21:03:13.842Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:03:13.842Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:03:13.842Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:03:13.846Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:03:13.847Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:03:13.847Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:03:13.847Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:03:13.848Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:03:13.850Z] [runtime-status] [60046] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:03:13.857Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:03:13.858Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:03:13.858Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:03:13.871Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:03:13.875Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:03:13.875Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T21:03:13.876Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:03:13.876Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:03:13.876Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:03:13.878Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:03:13.879Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:03:13.879Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:03:13.879Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:03:13.879Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:03:13.885Z] [runtime-status] [60046] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:03:13.885Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] >  Payment request received for  199998 {"user":"Payment request received for  199998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  199998"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:03:14.050Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:03:14.050Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:04:39.394Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:04:39.394Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:04:39.394Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T21:04:39.395Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:39.395Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:39.395Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:04:39.396Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:39.397Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:39.397Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:39.398Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:39.398Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:39.408Z] [runtime-status] [60046] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:04:39.409Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:04:39.411Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:04:39.411Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:04:39.412Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:04:39.412Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:04:39.412Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=199998 --> api
[debug] [2021-01-12T21:04:39.412Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:39.413Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:39.413Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:04:39.417Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:39.418Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:39.418Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:39.419Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:39.420Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:39.425Z] [runtime-status] [60046] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:04:39.425Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] >  Payment request received for  199998 {"user":"Payment request received for  199998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  199998"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:04:39.675Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:04:39.675Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:04:44.553Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:04:44.554Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:04:44.554Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:04:44.554Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:44.554Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:44.554Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:04:44.557Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:44.559Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:44.559Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:44.559Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:44.561Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:44.565Z] [runtime-status] [60046] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:04:44.565Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:04:44.569Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: IDLE"}}
[debug] [2021-01-12T21:04:44.569Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:04:44.572Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:04:44.572Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:04:44.572Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:04:44.573Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:44.573Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: Assigning socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:44.573Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: BUSY"}}
[debug] [2021-01-12T21:04:44.580Z] [runtime-status] [60046] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:44.583Z] [runtime-status] [60046] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:44.584Z] [runtime-status] [60046] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:44.584Z] [runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Attempting to listen to socketPath: /tmp/fire_emu_60046.sock"}}
[debug] [2021-01-12T21:04:44.584Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:44.601Z] [runtime-status] [60046] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:04:44.602Z] [runtime-status] [60046] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [60046] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:60046) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:60046) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:60046) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:60046) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:60046) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:60046) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:60046) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:60046) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:60046) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:04:50.250Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:04:50.250Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:04:50.250Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:04:50.262Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:04:50.262Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T21:04:50.262Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:50.262Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: Assigning socketPath: /tmp/fire_emu_63921.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: Assigning socketPath: /tmp/fire_emu_63921.sock"}}
[debug] [2021-01-12T21:04:50.263Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: BUSY"}}
[debug] [2021-01-12T21:04:51.231Z] [runtime-status] [63921] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:04:51.234Z] [runtime-status] [63921] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:04:51.236Z] [runtime-status] [63921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.238Z] [runtime-status] [63921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.239Z] [runtime-status] [63921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.251Z] [runtime-status] [63921] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:04:51.253Z] [runtime-status] [63921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.317Z] [runtime-status] [63921] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:04:51.317Z] [runtime-status] [63921] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:04:51.319Z] [runtime-status] [63921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.320Z] [runtime-status] [63921] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.321Z] [runtime-status] [63921] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.321Z] [runtime-status] [63921] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:04:51.416Z] [runtime-status] [63921] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:51.417Z] [runtime-status] [63921] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:51.417Z] [runtime-status] [63921] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:51.422Z] [runtime-status] [63921] Attempting to listen to socketPath: /tmp/fire_emu_63921.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Attempting to listen to socketPath: /tmp/fire_emu_63921.sock"}}
[debug] [2021-01-12T21:04:51.425Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:51.432Z] [runtime-status] [63921] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:04:51.438Z] [runtime-status] [63921] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Ephemeral server survived."}}
[debug] [2021-01-12T21:04:51.439Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:04:51.439Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:04:51.439Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:04:51.444Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:04:51.444Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T21:04:51.444Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:04:51.445Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:04:51.445Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:04:51.445Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: IDLE"}}
[debug] [2021-01-12T21:04:51.445Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:04:51.949Z] [runtime-status] [63928] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:04:51.951Z] [runtime-status] [63928] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:04:51.953Z] [runtime-status] [63928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.955Z] [runtime-status] [63928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.957Z] [runtime-status] [63928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.961Z] [runtime-status] [63928] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:04:51.963Z] [runtime-status] [63928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:51.999Z] [runtime-status] [63928] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:04:51.999Z] [runtime-status] [63928] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:04:52.002Z] [runtime-status] [63928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:52.003Z] [runtime-status] [63928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:52.003Z] [runtime-status] [63928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:04:52.003Z] [runtime-status] [63928] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:04:52.090Z] [runtime-status] [63928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:04:52.091Z] [runtime-status] [63928] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:04:52.091Z] [runtime-status] [63928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:04:52.095Z] [runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:04:52.098Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:04:52.104Z] [runtime-status] [63928] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T21:04:52.116Z] [runtime-status] [63928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:04:52.353Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE"}}
[debug] [2021-01-12T21:04:52.354Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:06:44.576Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:06:44.577Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:06:44.577Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:06:44.577Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:06:44.577Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: Assigning socketPath: /tmp/fire_emu_63921.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: Assigning socketPath: /tmp/fire_emu_63921.sock"}}
[debug] [2021-01-12T21:06:44.577Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: BUSY"}}
[debug] [2021-01-12T21:06:44.583Z] [runtime-status] [63921] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:06:44.585Z] [runtime-status] [63921] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:06:44.586Z] [runtime-status] [63921] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:06:44.586Z] [runtime-status] [63921] Attempting to listen to socketPath: /tmp/fire_emu_63921.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Attempting to listen to socketPath: /tmp/fire_emu_63921.sock"}}
[debug] [2021-01-12T21:06:44.586Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:06:44.596Z] [runtime-status] [63921] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:06:44.607Z] [runtime-status] [63921] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63921] Ephemeral server survived."}}
[info] >  (node:63921) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:63921) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63921) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:63921) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:63921) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63921) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:63921) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:63921) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63921) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:06:48.857Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:06:48.858Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:06:48.858Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:06:48.858Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:06:48.858Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:48.858Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY"}}
[debug] [2021-01-12T21:06:48.859Z] [runtime-status] [63928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:06:48.859Z] [runtime-status] [63928] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:06:48.859Z] [runtime-status] [63928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:06:48.860Z] [runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:48.860Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:06:48.863Z] [runtime-status] [63928] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:06:48.877Z] [runtime-status] [63928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:06:48.877Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE"}}
[debug] [2021-01-12T21:06:48.877Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:06:48.878Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:06:48.878Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:06:48.878Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:06:48.878Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:06:48.878Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:48.878Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY"}}
[debug] [2021-01-12T21:06:48.896Z] [runtime-status] [63928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:06:48.897Z] [runtime-status] [63928] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:06:48.897Z] [runtime-status] [63928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:06:48.897Z] [runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:48.898Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:06:48.926Z] [runtime-status] [63928] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:06:48.926Z] [runtime-status] [63928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server survived."}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:06:49.119Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE"}}
[debug] [2021-01-12T21:06:49.120Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:06:51.905Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:06:51.905Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:06:51.906Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:06:51.906Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:06:51.906Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:51.906Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY"}}
[debug] [2021-01-12T21:06:51.909Z] [runtime-status] [63928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:06:51.910Z] [runtime-status] [63928] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:06:51.910Z] [runtime-status] [63928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:06:51.910Z] [runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:51.911Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:06:51.924Z] [runtime-status] [63928] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:06:51.926Z] [runtime-status] [63928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:06:51.928Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: IDLE"}}
[debug] [2021-01-12T21:06:51.929Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:06:51.940Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:06:51.941Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:06:51.941Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:06:51.941Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:06:51.941Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: Assigning socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:51.941Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: BUSY"}}
[debug] [2021-01-12T21:06:51.946Z] [runtime-status] [63928] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:06:51.947Z] [runtime-status] [63928] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:06:51.947Z] [runtime-status] [63928] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:06:51.948Z] [runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Attempting to listen to socketPath: /tmp/fire_emu_63928.sock"}}
[debug] [2021-01-12T21:06:51.949Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:06:51.954Z] [runtime-status] [63928] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:06:51.956Z] [runtime-status] [63928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [63928] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:63928) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:63928) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63928) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:63928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:63928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63928) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:63928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:63928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:63928) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:07:05.899Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:07:05.900Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:07:05.900Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:07:05.911Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:07:05.912Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T21:07:05.912Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:07:05.912Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:05.912Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY"}}
[debug] [2021-01-12T21:07:06.880Z] [runtime-status] [64111] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:07:06.882Z] [runtime-status] [64111] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:07:06.884Z] [runtime-status] [64111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.886Z] [runtime-status] [64111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.886Z] [runtime-status] [64111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.891Z] [runtime-status] [64111] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:07:06.892Z] [runtime-status] [64111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.928Z] [runtime-status] [64111] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:07:06.928Z] [runtime-status] [64111] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:07:06.930Z] [runtime-status] [64111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.930Z] [runtime-status] [64111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.930Z] [runtime-status] [64111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:06.931Z] [runtime-status] [64111] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:07:07.052Z] [runtime-status] [64111] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:07:07.052Z] [runtime-status] [64111] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:07:07.053Z] [runtime-status] [64111] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:07:07.058Z] [runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:07.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:07:07.068Z] [runtime-status] [64111] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:07:07.075Z] [runtime-status] [64111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server survived."}}
[debug] [2021-01-12T21:07:07.076Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:07:07.076Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:07:07.076Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:07:07.081Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:07:07.081Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:07:07.082Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:07:07.082Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: Assigning socketPath: /tmp/fire_emu_64120.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: Assigning socketPath: /tmp/fire_emu_64120.sock"}}
[debug] [2021-01-12T21:07:07.082Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:07:07.084Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: IDLE"}}
[debug] [2021-01-12T21:07:07.085Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:07:07.640Z] [runtime-status] [64120] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:07:07.642Z] [runtime-status] [64120] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:07:07.645Z] [runtime-status] [64120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.646Z] [runtime-status] [64120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.647Z] [runtime-status] [64120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.653Z] [runtime-status] [64120] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:07:07.654Z] [runtime-status] [64120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.694Z] [runtime-status] [64120] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:07:07.694Z] [runtime-status] [64120] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:07:07.695Z] [runtime-status] [64120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.696Z] [runtime-status] [64120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.696Z] [runtime-status] [64120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:07:07.697Z] [runtime-status] [64120] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:07:07.774Z] [runtime-status] [64120] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:07:07.775Z] [runtime-status] [64120] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:07:07.777Z] [runtime-status] [64120] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:07:07.781Z] [runtime-status] [64120] Attempting to listen to socketPath: /tmp/fire_emu_64120.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Attempting to listen to socketPath: /tmp/fire_emu_64120.sock"}}
[debug] [2021-01-12T21:07:07.785Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:07:07.792Z] [runtime-status] [64120] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T21:07:07.803Z] [runtime-status] [64120] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64120] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:07:08.053Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: IDLE"}}
[debug] [2021-01-12T21:07:08.053Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:07:14.071Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:07:14.071Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:07:14.071Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:07:14.071Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:07:14.071Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:14.071Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY"}}
[debug] [2021-01-12T21:07:14.072Z] [runtime-status] [64111] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:07:14.073Z] [runtime-status] [64111] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:07:14.073Z] [runtime-status] [64111] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:07:14.074Z] [runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:14.074Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:07:14.080Z] [runtime-status] [64111] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:07:14.082Z] [runtime-status] [64111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:07:14.086Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: IDLE"}}
[debug] [2021-01-12T21:07:14.087Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:07:14.087Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:07:14.088Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:07:14.088Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:07:14.088Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:07:14.088Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: Assigning socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:14.088Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: BUSY"}}
[debug] [2021-01-12T21:07:14.095Z] [runtime-status] [64111] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:07:14.097Z] [runtime-status] [64111] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:07:14.097Z] [runtime-status] [64111] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:07:14.098Z] [runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Attempting to listen to socketPath: /tmp/fire_emu_64111.sock"}}
[debug] [2021-01-12T21:07:14.099Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:07:14.104Z] [runtime-status] [64111] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:07:14.116Z] [runtime-status] [64111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64111] Ephemeral server survived."}}
[info] >  (node:64111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:64111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64111) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:08:14.370Z] File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: FINISHING"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: FINISHING"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: FINISHING"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:08:15.371Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: FINISHING"}}
[debug] [2021-01-12T21:08:15.372Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:08:15.372Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: FINISHING"}}
[debug] [2021-01-12T21:08:15.372Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-01-12T21:08:15.372Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: FINISHING"}}
[debug] [2021-01-12T21:08:15.379Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-01-12T21:08:15.379Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-01-12T21:08:15.379Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-01-12T21:08:15.379Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: Assigning socketPath: /tmp/fire_emu_64258.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: Assigning socketPath: /tmp/fire_emu_64258.sock"}}
[debug] [2021-01-12T21:08:15.379Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: BUSY"}}
[debug] [2021-01-12T21:08:15.381Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: exited"}}
[debug] [2021-01-12T21:08:15.381Z] [worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f95373f2-b27a-402c-8abb-eb3d1f921d06]: FINISHED"}}
[debug] [2021-01-12T21:08:15.381Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: exited"}}
[debug] [2021-01-12T21:08:15.381Z] [worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5fb29dd6-6421-4d13-9a4d-424ff7b653f1]: FINISHED"}}
[debug] [2021-01-12T21:08:15.936Z] [runtime-status] [64258] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:08:15.938Z] [runtime-status] [64258] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:08:15.940Z] [runtime-status] [64258] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:15.941Z] [runtime-status] [64258] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:15.943Z] [runtime-status] [64258] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:15.947Z] [runtime-status] [64258] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:08:15.948Z] [runtime-status] [64258] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:15.999Z] [runtime-status] [64258] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:08:16.000Z] [runtime-status] [64258] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:16.000Z] [runtime-status] [64258] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:16.003Z] [runtime-status] [64258] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:16.004Z] [runtime-status] [64258] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:16.004Z] [runtime-status] [64258] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64258] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:16.126Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: IDLE"}}
[debug] [2021-01-12T21:08:33.333Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:08:33.334Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:08:33.334Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:08:33.334Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-01-12T21:08:33.334Z] [worker-pool] Cleaned up workers for api: 5 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 4"}}
[debug] [2021-01-12T21:08:33.346Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:08:33.347Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:08:33.347Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:08:33.347Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: Assigning socketPath: /tmp/fire_emu_64291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: Assigning socketPath: /tmp/fire_emu_64291.sock"}}
[debug] [2021-01-12T21:08:33.347Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: BUSY"}}
[debug] [2021-01-12T21:08:34.307Z] [runtime-status] [64291] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:08:34.312Z] [runtime-status] [64291] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:08:34.317Z] [runtime-status] [64291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.320Z] [runtime-status] [64291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.324Z] [runtime-status] [64291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.333Z] [runtime-status] [64291] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:08:34.335Z] [runtime-status] [64291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.405Z] [runtime-status] [64291] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:08:34.406Z] [runtime-status] [64291] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:34.407Z] [runtime-status] [64291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.409Z] [runtime-status] [64291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.409Z] [runtime-status] [64291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:34.410Z] [runtime-status] [64291] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:34.546Z] [runtime-status] [64291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:08:34.549Z] [runtime-status] [64291] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:08:34.550Z] [runtime-status] [64291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:08:34.560Z] [runtime-status] [64291] Attempting to listen to socketPath: /tmp/fire_emu_64291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Attempting to listen to socketPath: /tmp/fire_emu_64291.sock"}}
[debug] [2021-01-12T21:08:34.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:08:34.575Z] [runtime-status] [64291] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:08:34.582Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:08:34.583Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:08:34.583Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:08:34.588Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:08:34.588Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-01-12T21:08:34.588Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:08:34.588Z] [worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: Assigning socketPath: /tmp/fire_emu_64302.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: Assigning socketPath: /tmp/fire_emu_64302.sock"}}
[debug] [2021-01-12T21:08:34.588Z] [worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: BUSY"}}
[debug] [2021-01-12T21:08:34.589Z] [runtime-status] [64291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:08:34.589Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: IDLE"}}
[debug] [2021-01-12T21:08:34.589Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:08:35.092Z] [runtime-status] [64302] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:08:35.094Z] [runtime-status] [64302] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:08:35.097Z] [runtime-status] [64302] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.098Z] [runtime-status] [64302] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.101Z] [runtime-status] [64302] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.104Z] [runtime-status] [64302] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:08:35.105Z] [runtime-status] [64302] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.141Z] [runtime-status] [64302] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:08:35.142Z] [runtime-status] [64302] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:35.142Z] [runtime-status] [64302] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.145Z] [runtime-status] [64302] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.145Z] [runtime-status] [64302] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:08:35.145Z] [runtime-status] [64302] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:08:35.222Z] [runtime-status] [64302] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:08:35.223Z] [runtime-status] [64302] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:08:35.224Z] [runtime-status] [64302] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:08:35.228Z] [runtime-status] [64302] Attempting to listen to socketPath: /tmp/fire_emu_64302.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Attempting to listen to socketPath: /tmp/fire_emu_64302.sock"}}
[debug] [2021-01-12T21:08:35.231Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:08:35.238Z] [runtime-status] [64302] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T21:08:35.249Z] [runtime-status] [64302] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64302] Ephemeral server survived."}}
[info] >  (node:64302) UnhandledPromiseRejectionWarning: Error: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys. {"user":"(node:64302) UnhandledPromiseRejectionWarning: Error: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64302) UnhandledPromiseRejectionWarning: Error: This API call cannot be made with a publishable API key. Please use a secret API key. You can find a list of your API keys at https://dashboard.stripe.com/account/apikeys."}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:186:21) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:186:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:186:21)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64302) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64302) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64302) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64302) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64302) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64302) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:09:34.911Z] File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: FINISHING"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: FINISHING"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:09:35.912Z] [worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: FINISHING"}}
[debug] [2021-01-12T21:09:35.919Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-01-12T21:09:35.919Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-01-12T21:09:35.919Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-01-12T21:09:35.919Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: Assigning socketPath: /tmp/fire_emu_64347.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: Assigning socketPath: /tmp/fire_emu_64347.sock"}}
[debug] [2021-01-12T21:09:35.919Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: BUSY"}}
[debug] [2021-01-12T21:09:35.921Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: exited"}}
[debug] [2021-01-12T21:09:35.921Z] [worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bb66d5d2-9ab6-4624-b92b-05e58efdb53f]: FINISHED"}}
[debug] [2021-01-12T21:09:35.921Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: exited"}}
[debug] [2021-01-12T21:09:35.922Z] [worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-87ce6e59-be3d-4997-b8e0-d7239d9c57e8]: FINISHED"}}
[debug] [2021-01-12T21:09:36.534Z] [runtime-status] [64347] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:09:36.536Z] [runtime-status] [64347] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:09:36.539Z] [runtime-status] [64347] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.540Z] [runtime-status] [64347] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.542Z] [runtime-status] [64347] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.546Z] [runtime-status] [64347] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:09:36.548Z] [runtime-status] [64347] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.607Z] [runtime-status] [64347] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:09:36.608Z] [runtime-status] [64347] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:09:36.608Z] [runtime-status] [64347] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.609Z] [runtime-status] [64347] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.609Z] [runtime-status] [64347] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:36.609Z] [runtime-status] [64347] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [64347] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:09:36.768Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: IDLE"}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:09:44.588Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: exited"}}
[debug] [2021-01-12T21:09:44.588Z] [worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4ccc12a0-d592-4c9f-adf4-ff19510fec46]: FINISHED"}}
[debug] [2021-01-12T21:09:44.588Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:09:55.224Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:09:55.225Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:09:55.225Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:09:55.225Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-01-12T21:09:55.225Z] [worker-pool] Cleaned up workers for api: 6 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 4"}}
[debug] [2021-01-12T21:09:55.235Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:09:55.235Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:09:55.236Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:09:55.236Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: Assigning socketPath: /tmp/fire_emu_64386.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: Assigning socketPath: /tmp/fire_emu_64386.sock"}}
[debug] [2021-01-12T21:09:55.236Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: BUSY"}}
[debug] [2021-01-12T21:09:55.991Z] [runtime-status] [64386] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:09:55.994Z] [runtime-status] [64386] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:09:55.998Z] [runtime-status] [64386] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:55.999Z] [runtime-status] [64386] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.001Z] [runtime-status] [64386] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.010Z] [runtime-status] [64386] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:09:56.012Z] [runtime-status] [64386] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:09:56.087Z] [runtime-status] [64386] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:09:56.260Z] [runtime-status] [64386] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:09:56.261Z] [runtime-status] [64386] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:09:56.261Z] [runtime-status] [64386] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:09:56.267Z] [runtime-status] [64386] Attempting to listen to socketPath: /tmp/fire_emu_64386.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Attempting to listen to socketPath: /tmp/fire_emu_64386.sock"}}
[debug] [2021-01-12T21:09:56.274Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:09:56.291Z] [runtime-status] [64386] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:09:56.300Z] [runtime-status] [64386] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:09:56.302Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: IDLE"}}
[debug] [2021-01-12T21:09:56.302Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:09:56.303Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:09:56.303Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:09:56.303Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:09:56.303Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:09:56.304Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: Assigning socketPath: /tmp/fire_emu_64386.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: Assigning socketPath: /tmp/fire_emu_64386.sock"}}
[debug] [2021-01-12T21:09:56.304Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: BUSY"}}
[debug] [2021-01-12T21:09:56.317Z] [runtime-status] [64386] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:09:56.318Z] [runtime-status] [64386] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:09:56.318Z] [runtime-status] [64386] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:09:56.318Z] [runtime-status] [64386] Attempting to listen to socketPath: /tmp/fire_emu_64386.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Attempting to listen to socketPath: /tmp/fire_emu_64386.sock"}}
[debug] [2021-01-12T21:09:56.319Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:09:56.333Z] [runtime-status] [64386] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:09:56.342Z] [runtime-status] [64386] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64386] Ephemeral server survived."}}
[info] >  (node:64386) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:64386) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64386) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64386) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64386) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64386) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64386) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64386) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64386) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:10:02.583Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:10:02.583Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:10:02.583Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=89998 --> api
[debug] [2021-01-12T21:10:02.592Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:10:02.593Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-01-12T21:10:02.593Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:10:02.593Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:02.593Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY"}}
[debug] [2021-01-12T21:10:03.515Z] [runtime-status] [64412] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:10:03.520Z] [runtime-status] [64412] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:10:03.528Z] [runtime-status] [64412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.531Z] [runtime-status] [64412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.533Z] [runtime-status] [64412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.542Z] [runtime-status] [64412] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:10:03.544Z] [runtime-status] [64412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.586Z] [runtime-status] [64412] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:10:03.587Z] [runtime-status] [64412] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:10:03.587Z] [runtime-status] [64412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.588Z] [runtime-status] [64412] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.588Z] [runtime-status] [64412] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:03.588Z] [runtime-status] [64412] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:10:03.671Z] [runtime-status] [64412] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:10:03.673Z] [runtime-status] [64412] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:10:03.673Z] [runtime-status] [64412] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:10:03.677Z] [runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:03.680Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:10:03.687Z] [runtime-status] [64412] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:10:03.694Z] [runtime-status] [64412] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server survived."}}
[debug] [2021-01-12T21:10:03.696Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2021-01-12T21:10:03.696Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2021-01-12T21:10:03.696Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=89998 --> api
[debug] [2021-01-12T21:10:03.701Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:10:03.702Z] [worker-pool] Adding worker with key api, total=7 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=7"}}
[debug] [2021-01-12T21:10:03.702Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:10:03.702Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: Assigning socketPath: /tmp/fire_emu_64420.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: Assigning socketPath: /tmp/fire_emu_64420.sock"}}
[debug] [2021-01-12T21:10:03.702Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:10:03.703Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: IDLE"}}
[debug] [2021-01-12T21:10:03.703Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:10:04.224Z] [runtime-status] [64420] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:10:04.226Z] [runtime-status] [64420] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:10:04.229Z] [runtime-status] [64420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.230Z] [runtime-status] [64420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.231Z] [runtime-status] [64420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.235Z] [runtime-status] [64420] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:10:04.237Z] [runtime-status] [64420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.272Z] [runtime-status] [64420] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:10:04.272Z] [runtime-status] [64420] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:10:04.274Z] [runtime-status] [64420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.275Z] [runtime-status] [64420] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.276Z] [runtime-status] [64420] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:10:04.276Z] [runtime-status] [64420] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:10:04.354Z] [runtime-status] [64420] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:10:04.355Z] [runtime-status] [64420] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:10:04.355Z] [runtime-status] [64420] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:10:04.360Z] [runtime-status] [64420] Attempting to listen to socketPath: /tmp/fire_emu_64420.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Attempting to listen to socketPath: /tmp/fire_emu_64420.sock"}}
[debug] [2021-01-12T21:10:04.363Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:10:04.371Z] [runtime-status] [64420] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Ephemeral server handling POST request"}}
[info] >  Payment request received for  89998 {"user":"Payment request received for  89998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  89998"}}
[debug] [2021-01-12T21:10:04.382Z] [runtime-status] [64420] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:10:04.630Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: IDLE"}}
[debug] [2021-01-12T21:10:04.630Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:10:11.053Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:10:11.053Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:10:11.053Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:10:11.053Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:10:11.053Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:11.053Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY"}}
[debug] [2021-01-12T21:10:11.056Z] [runtime-status] [64412] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:10:11.056Z] [runtime-status] [64412] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:10:11.056Z] [runtime-status] [64412] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:10:11.057Z] [runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:11.057Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:10:11.064Z] [runtime-status] [64412] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:10:11.065Z] [runtime-status] [64412] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:10:11.071Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: IDLE"}}
[debug] [2021-01-12T21:10:11.071Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:10:11.074Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:10:11.076Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:10:11.076Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:10:11.076Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:10:11.076Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: Assigning socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:11.077Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: BUSY"}}
[debug] [2021-01-12T21:10:11.111Z] [runtime-status] [64412] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:10:11.113Z] [runtime-status] [64412] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:10:11.113Z] [runtime-status] [64412] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:10:11.114Z] [runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Attempting to listen to socketPath: /tmp/fire_emu_64412.sock"}}
[debug] [2021-01-12T21:10:11.114Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:10:11.125Z] [runtime-status] [64412] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:10:11.145Z] [runtime-status] [64412] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64412] Ephemeral server survived."}}
[info] >  (node:64412) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:64412) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64412) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64412) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64412) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64412) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64412) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64412) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64412) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:11:44.586Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: exited"}}
[debug] [2021-01-12T21:11:44.586Z] [worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-765e48db-0088-4b90-a6ff-954c63ef8980]: FINISHED"}}
[debug] [2021-01-12T21:11:44.587Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:11:51.958Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: exited"}}
[debug] [2021-01-12T21:11:51.958Z] [worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-cf7f6612-5606-4dd2-91f1-a741bfff482f]: FINISHED"}}
[debug] [2021-01-12T21:11:51.958Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:11:56.309Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:11:56.309Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:11:56.309Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:11:56.310Z] [worker-pool] Cleaned up workers for api: 7 --> 5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 7 --> 5"}}
[debug] [2021-01-12T21:11:56.310Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:11:56.311Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: Assigning socketPath: /tmp/fire_emu_64420.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: Assigning socketPath: /tmp/fire_emu_64420.sock"}}
[debug] [2021-01-12T21:11:56.312Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: BUSY"}}
[debug] [2021-01-12T21:11:56.314Z] [runtime-status] [64420] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:11:56.315Z] [runtime-status] [64420] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:11:56.315Z] [runtime-status] [64420] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:11:56.317Z] [runtime-status] [64420] Attempting to listen to socketPath: /tmp/fire_emu_64420.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Attempting to listen to socketPath: /tmp/fire_emu_64420.sock"}}
[debug] [2021-01-12T21:11:56.318Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:11:56.321Z] [runtime-status] [64420] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:11:56.325Z] [runtime-status] [64420] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64420] Ephemeral server survived."}}
[info] >  (node:64420) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:64420) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64420) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64420) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64420) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64420) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64420) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64420) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64420) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:12:11.088Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:12:11.089Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:12:11.089Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:12:11.096Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:12:11.097Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-01-12T21:12:11.097Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:12:11.097Z] [worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: Assigning socketPath: /tmp/fire_emu_64581.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: Assigning socketPath: /tmp/fire_emu_64581.sock"}}
[debug] [2021-01-12T21:12:11.097Z] [worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: BUSY"}}
[debug] [2021-01-12T21:12:11.657Z] [runtime-status] [64581] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:12:11.662Z] [runtime-status] [64581] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:12:11.667Z] [runtime-status] [64581] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.669Z] [runtime-status] [64581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.671Z] [runtime-status] [64581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.680Z] [runtime-status] [64581] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:12:11.682Z] [runtime-status] [64581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.744Z] [runtime-status] [64581] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:12:11.746Z] [runtime-status] [64581] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:12:11.751Z] [runtime-status] [64581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.754Z] [runtime-status] [64581] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.757Z] [runtime-status] [64581] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:12:11.757Z] [runtime-status] [64581] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:12:11.879Z] [runtime-status] [64581] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:12:11.880Z] [runtime-status] [64581] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:12:11.880Z] [runtime-status] [64581] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:12:11.885Z] [runtime-status] [64581] Attempting to listen to socketPath: /tmp/fire_emu_64581.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Attempting to listen to socketPath: /tmp/fire_emu_64581.sock"}}
[debug] [2021-01-12T21:12:11.889Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:12:11.896Z] [runtime-status] [64581] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:12:11.907Z] [runtime-status] [64581] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64581] Ephemeral server survived."}}
[info] >  (node:64581) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:64581) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64581) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:64581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:64581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64581) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:64581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:64581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:64581) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:12:14.110Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: exited"}}
[debug] [2021-01-12T21:12:14.111Z] [worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e62864e8-6777-4d56-8286-10f86f10e122]: FINISHED"}}
[debug] [2021-01-12T21:12:14.116Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:13:35.246Z] [worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: exited"}}
[debug] [2021-01-12T21:13:35.246Z] [worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-947a9146-08be-4ef1-97d1-ccf721c98706]: FINISHED"}}
[debug] [2021-01-12T21:13:35.246Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:13:46.061Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:13:46.061Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:13:46.062Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:13:46.062Z] [worker-pool] Cleaned up workers for api: 6 --> 4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 4"}}
[debug] [2021-01-12T21:13:46.076Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:13:46.076Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:13:46.077Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:13:46.077Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: Assigning socketPath: /tmp/fire_emu_64789.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: Assigning socketPath: /tmp/fire_emu_64789.sock"}}
[debug] [2021-01-12T21:13:46.077Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: BUSY"}}
[debug] [2021-01-12T21:13:47.109Z] [runtime-status] [64789] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:13:47.112Z] [runtime-status] [64789] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:13:47.115Z] [runtime-status] [64789] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.116Z] [runtime-status] [64789] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.117Z] [runtime-status] [64789] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.122Z] [runtime-status] [64789] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:13:47.123Z] [runtime-status] [64789] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.161Z] [runtime-status] [64789] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:13:47.163Z] [runtime-status] [64789] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:13:47.163Z] [runtime-status] [64789] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.165Z] [runtime-status] [64789] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.165Z] [runtime-status] [64789] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:13:47.167Z] [runtime-status] [64789] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:13:47.256Z] [runtime-status] [64789] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:13:47.257Z] [runtime-status] [64789] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:13:47.257Z] [runtime-status] [64789] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:13:47.262Z] [runtime-status] [64789] Attempting to listen to socketPath: /tmp/fire_emu_64789.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Attempting to listen to socketPath: /tmp/fire_emu_64789.sock"}}
[debug] [2021-01-12T21:13:47.266Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:13:47.273Z] [runtime-status] [64789] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:13:47.280Z] [runtime-status] [64789] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:13:47.284Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: IDLE"}}
[debug] [2021-01-12T21:13:47.285Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:13:47.286Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:13:47.286Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:13:47.286Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:13:47.286Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:13:47.286Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: Assigning socketPath: /tmp/fire_emu_64789.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: Assigning socketPath: /tmp/fire_emu_64789.sock"}}
[debug] [2021-01-12T21:13:47.286Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: BUSY"}}
[debug] [2021-01-12T21:13:47.292Z] [runtime-status] [64789] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:13:47.294Z] [runtime-status] [64789] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:13:47.294Z] [runtime-status] [64789] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:13:47.295Z] [runtime-status] [64789] Attempting to listen to socketPath: /tmp/fire_emu_64789.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Attempting to listen to socketPath: /tmp/fire_emu_64789.sock"}}
[debug] [2021-01-12T21:13:47.295Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:13:47.300Z] [runtime-status] [64789] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T21:13:47.326Z] [runtime-status] [64789] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [64789] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:13:47.584Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: IDLE"}}
[debug] [2021-01-12T21:13:47.585Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:14:56.327Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: exited"}}
[debug] [2021-01-12T21:14:56.327Z] [worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c09f57de-3189-4be2-b797-5e2ad26278b9]: FINISHED"}}
[debug] [2021-01-12T21:14:56.327Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:15:11.110Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: exited"}}
[debug] [2021-01-12T21:15:11.110Z] [worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b0253e82-6ecf-4bcf-943d-a148bac9fee7]: FINISHED"}}
[debug] [2021-01-12T21:15:11.111Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:15:20.339Z] File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/jim/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-01-12T21:15:21.339Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-01-12T21:15:21.339Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: FINISHING"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: FINISHING"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-pool] Marking BUSY worker to finish (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (api)"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: FINISHING"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: FINISHING"}}
[debug] [2021-01-12T21:15:21.340Z] [worker-pool] Cleaned up workers for api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 3"}}
[debug] [2021-01-12T21:15:21.359Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-01-12T21:15:21.360Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-01-12T21:15:21.360Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-01-12T21:15:21.360Z] [worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: Assigning socketPath: /tmp/fire_emu_65039.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: Assigning socketPath: /tmp/fire_emu_65039.sock"}}
[debug] [2021-01-12T21:15:21.361Z] [worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: BUSY"}}
[debug] [2021-01-12T21:15:21.388Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: exited"}}
[debug] [2021-01-12T21:15:21.389Z] [worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-feff2321-87e8-4c46-89c5-e272c5da33f6]: FINISHED"}}
[debug] [2021-01-12T21:15:21.390Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: exited"}}
[debug] [2021-01-12T21:15:21.390Z] [worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00694265-cd8b-4ed1-93b3-afc1d0519fe7]: FINISHED"}}
[debug] [2021-01-12T21:15:22.772Z] [runtime-status] [65039] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:15:22.775Z] [runtime-status] [65039] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:15:22.787Z] [runtime-status] [65039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.803Z] [runtime-status] [65039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.808Z] [runtime-status] [65039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.815Z] [runtime-status] [65039] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:15:22.821Z] [runtime-status] [65039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.881Z] [runtime-status] [65039] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:15:22.882Z] [runtime-status] [65039] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:22.888Z] [runtime-status] [65039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.891Z] [runtime-status] [65039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.896Z] [runtime-status] [65039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:22.896Z] [runtime-status] [65039] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [65039] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:23.036Z] [worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-190dd0fe-9402-41e7-bbc2-4018d1458f00]: IDLE"}}
[debug] [2021-01-12T21:15:25.618Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:15:25.618Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:15:25.618Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:15:25.618Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-01-12T21:15:25.618Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2021-01-12T21:15:25.638Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:15:25.638Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T21:15:25.638Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:25.639Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: Assigning socketPath: /tmp/fire_emu_65047.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: Assigning socketPath: /tmp/fire_emu_65047.sock"}}
[debug] [2021-01-12T21:15:25.639Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: BUSY"}}
[debug] [2021-01-12T21:15:26.488Z] [runtime-status] [65047] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:15:26.494Z] [runtime-status] [65047] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:15:26.503Z] [runtime-status] [65047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.506Z] [runtime-status] [65047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.510Z] [runtime-status] [65047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.523Z] [runtime-status] [65047] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:15:26.525Z] [runtime-status] [65047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.589Z] [runtime-status] [65047] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:15:26.591Z] [runtime-status] [65047] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:26.595Z] [runtime-status] [65047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.602Z] [runtime-status] [65047] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.604Z] [runtime-status] [65047] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:26.604Z] [runtime-status] [65047] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:26.697Z] [runtime-status] [65047] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:26.698Z] [runtime-status] [65047] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:26.698Z] [runtime-status] [65047] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:26.704Z] [runtime-status] [65047] Attempting to listen to socketPath: /tmp/fire_emu_65047.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Attempting to listen to socketPath: /tmp/fire_emu_65047.sock"}}
[debug] [2021-01-12T21:15:26.709Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:26.721Z] [runtime-status] [65047] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:15:26.731Z] [runtime-status] [65047] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:15:26.734Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: IDLE"}}
[debug] [2021-01-12T21:15:26.734Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:15:26.735Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:15:26.735Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:15:26.735Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:15:26.735Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:26.735Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: Assigning socketPath: /tmp/fire_emu_65047.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: Assigning socketPath: /tmp/fire_emu_65047.sock"}}
[debug] [2021-01-12T21:15:26.735Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: BUSY"}}
[debug] [2021-01-12T21:15:26.743Z] [runtime-status] [65047] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:26.748Z] [runtime-status] [65047] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:26.748Z] [runtime-status] [65047] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:26.749Z] [runtime-status] [65047] Attempting to listen to socketPath: /tmp/fire_emu_65047.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Attempting to listen to socketPath: /tmp/fire_emu_65047.sock"}}
[debug] [2021-01-12T21:15:26.750Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:26.756Z] [runtime-status] [65047] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:15:26.765Z] [runtime-status] [65047] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65047] Ephemeral server survived."}}
[info] >  (node:65047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65047) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65047) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65047) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:15:32.479Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:15:32.480Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:15:32.483Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:15:32.497Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:15:32.497Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T21:15:32.497Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:32.497Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:32.498Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY"}}
[debug] [2021-01-12T21:15:33.288Z] [runtime-status] [65062] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:15:33.291Z] [runtime-status] [65062] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:15:33.296Z] [runtime-status] [65062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.300Z] [runtime-status] [65062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.303Z] [runtime-status] [65062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.306Z] [runtime-status] [65062] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:15:33.307Z] [runtime-status] [65062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.365Z] [runtime-status] [65062] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:15:33.365Z] [runtime-status] [65062] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:33.367Z] [runtime-status] [65062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.379Z] [runtime-status] [65062] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.380Z] [runtime-status] [65062] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:33.381Z] [runtime-status] [65062] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:33.501Z] [runtime-status] [65062] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:33.503Z] [runtime-status] [65062] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:33.503Z] [runtime-status] [65062] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:33.507Z] [runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:33.510Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:33.517Z] [runtime-status] [65062] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:15:33.524Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:15:33.524Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:15:33.524Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=12997 --> api
[debug] [2021-01-12T21:15:33.529Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:15:33.529Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:15:33.529Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:33.530Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: Assigning socketPath: /tmp/fire_emu_65069.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: Assigning socketPath: /tmp/fire_emu_65069.sock"}}
[debug] [2021-01-12T21:15:33.530Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: BUSY"}}
[debug] [2021-01-12T21:15:33.530Z] [runtime-status] [65062] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:15:33.530Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: IDLE"}}
[debug] [2021-01-12T21:15:33.530Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:15:34.049Z] [runtime-status] [65069] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:15:34.052Z] [runtime-status] [65069] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:15:34.054Z] [runtime-status] [65069] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.055Z] [runtime-status] [65069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.056Z] [runtime-status] [65069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.060Z] [runtime-status] [65069] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:15:34.062Z] [runtime-status] [65069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.096Z] [runtime-status] [65069] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:15:34.096Z] [runtime-status] [65069] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:34.097Z] [runtime-status] [65069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.098Z] [runtime-status] [65069] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.099Z] [runtime-status] [65069] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:15:34.099Z] [runtime-status] [65069] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:15:34.181Z] [runtime-status] [65069] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:34.183Z] [runtime-status] [65069] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:34.183Z] [runtime-status] [65069] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:34.189Z] [runtime-status] [65069] Attempting to listen to socketPath: /tmp/fire_emu_65069.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Attempting to listen to socketPath: /tmp/fire_emu_65069.sock"}}
[debug] [2021-01-12T21:15:34.193Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:34.202Z] [runtime-status] [65069] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Ephemeral server handling POST request"}}
[info] >  Payment request received for  12997 {"user":"Payment request received for  12997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  12997"}}
[debug] [2021-01-12T21:15:34.215Z] [runtime-status] [65069] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:15:34.462Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: IDLE"}}
[debug] [2021-01-12T21:15:34.462Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:15:41.591Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:15:41.591Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:15:41.592Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:15:41.592Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:41.592Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:41.592Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY"}}
[debug] [2021-01-12T21:15:41.596Z] [runtime-status] [65062] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:41.597Z] [runtime-status] [65062] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:41.598Z] [runtime-status] [65062] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:41.598Z] [runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:41.599Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:41.607Z] [runtime-status] [65062] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:15:41.607Z] [runtime-status] [65062] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:15:41.608Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: IDLE"}}
[debug] [2021-01-12T21:15:41.608Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:15:41.626Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:15:41.626Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:15:41.626Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:15:41.626Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:15:41.626Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: Assigning socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:41.627Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: BUSY"}}
[debug] [2021-01-12T21:15:41.630Z] [runtime-status] [65062] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:15:41.632Z] [runtime-status] [65062] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:15:41.634Z] [runtime-status] [65062] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:15:41.634Z] [runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Attempting to listen to socketPath: /tmp/fire_emu_65062.sock"}}
[debug] [2021-01-12T21:15:41.634Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:15:41.643Z] [runtime-status] [65062] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:15:41.664Z] [runtime-status] [65062] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65062] Ephemeral server survived."}}
[info] >  (node:65062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65062) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65062) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65062) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:16:56.325Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: exited"}}
[debug] [2021-01-12T21:16:56.325Z] [worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-71e27a64-624a-48e7-84fe-b93f1ebff035]: FINISHED"}}
[debug] [2021-01-12T21:16:56.325Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:17:11.889Z] [worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: exited"}}
[debug] [2021-01-12T21:17:11.890Z] [worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e3358458-346b-4085-8f16-61bc8651d59e]: FINISHED"}}
[debug] [2021-01-12T21:17:11.890Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:17:26.739Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:17:26.739Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:17:26.739Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:17:26.740Z] [worker-pool] Cleaned up workers for api: 5 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 5 --> 3"}}
[debug] [2021-01-12T21:17:26.740Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:17:26.741Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: Assigning socketPath: /tmp/fire_emu_65069.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: Assigning socketPath: /tmp/fire_emu_65069.sock"}}
[debug] [2021-01-12T21:17:26.741Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: BUSY"}}
[debug] [2021-01-12T21:17:26.743Z] [runtime-status] [65069] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:17:26.744Z] [runtime-status] [65069] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:17:26.744Z] [runtime-status] [65069] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:17:26.745Z] [runtime-status] [65069] Attempting to listen to socketPath: /tmp/fire_emu_65069.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Attempting to listen to socketPath: /tmp/fire_emu_65069.sock"}}
[debug] [2021-01-12T21:17:26.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:17:26.751Z] [runtime-status] [65069] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:17:26.755Z] [runtime-status] [65069] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65069] Ephemeral server survived."}}
[info] >  (node:65069) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65069) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65069) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65069) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65069) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65069) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65069) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65069) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65069) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:17:41.642Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:17:41.642Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:17:41.642Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:17:41.650Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:17:41.651Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T21:17:41.651Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:17:41.651Z] [worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: Assigning socketPath: /tmp/fire_emu_65218.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: Assigning socketPath: /tmp/fire_emu_65218.sock"}}
[debug] [2021-01-12T21:17:41.651Z] [worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: BUSY"}}
[debug] [2021-01-12T21:17:42.326Z] [runtime-status] [65218] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:17:42.330Z] [runtime-status] [65218] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:17:42.335Z] [runtime-status] [65218] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.339Z] [runtime-status] [65218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.342Z] [runtime-status] [65218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.353Z] [runtime-status] [65218] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:17:42.355Z] [runtime-status] [65218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.446Z] [runtime-status] [65218] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:17:42.446Z] [runtime-status] [65218] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:17:42.447Z] [runtime-status] [65218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.449Z] [runtime-status] [65218] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.450Z] [runtime-status] [65218] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:17:42.453Z] [runtime-status] [65218] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:17:42.614Z] [runtime-status] [65218] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:17:42.616Z] [runtime-status] [65218] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:17:42.616Z] [runtime-status] [65218] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:17:42.620Z] [runtime-status] [65218] Attempting to listen to socketPath: /tmp/fire_emu_65218.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Attempting to listen to socketPath: /tmp/fire_emu_65218.sock"}}
[debug] [2021-01-12T21:17:42.623Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:17:42.630Z] [runtime-status] [65218] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:17:42.643Z] [runtime-status] [65218] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65218] Ephemeral server survived."}}
[info] >  (node:65218) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65218) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65218) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65218) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65218) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65218) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65218) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65218) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65218) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:18:01.730Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:18:01.730Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:18:01.730Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=679486 --> api
[debug] [2021-01-12T21:18:01.768Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:18:01.769Z] [worker-pool] Adding worker with key api, total=5 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=5"}}
[debug] [2021-01-12T21:18:01.769Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:18:01.769Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:01.769Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY"}}
[debug] [2021-01-12T21:18:02.649Z] [runtime-status] [65243] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:18:02.652Z] [runtime-status] [65243] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:18:02.655Z] [runtime-status] [65243] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.657Z] [runtime-status] [65243] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.658Z] [runtime-status] [65243] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.665Z] [runtime-status] [65243] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:18:02.667Z] [runtime-status] [65243] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.720Z] [runtime-status] [65243] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:18:02.721Z] [runtime-status] [65243] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:18:02.721Z] [runtime-status] [65243] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.722Z] [runtime-status] [65243] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.724Z] [runtime-status] [65243] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:02.725Z] [runtime-status] [65243] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:18:02.862Z] [runtime-status] [65243] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:18:02.863Z] [runtime-status] [65243] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:18:02.864Z] [runtime-status] [65243] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:18:02.868Z] [runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:02.872Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:18:02.880Z] [runtime-status] [65243] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:18:02.887Z] [runtime-status] [65243] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server survived."}}
[debug] [2021-01-12T21:18:02.889Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2021-01-12T21:18:02.889Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2021-01-12T21:18:02.889Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=679486 --> api
[debug] [2021-01-12T21:18:02.894Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:18:02.895Z] [worker-pool] Adding worker with key api, total=6 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=6"}}
[debug] [2021-01-12T21:18:02.895Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:18:02.895Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:18:02.895Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:18:02.897Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: IDLE"}}
[debug] [2021-01-12T21:18:02.897Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:18:03.419Z] [runtime-status] [65254] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:18:03.421Z] [runtime-status] [65254] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:18:03.424Z] [runtime-status] [65254] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.425Z] [runtime-status] [65254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.427Z] [runtime-status] [65254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.430Z] [runtime-status] [65254] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:18:03.430Z] [runtime-status] [65254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.465Z] [runtime-status] [65254] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:18:03.466Z] [runtime-status] [65254] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:18:03.467Z] [runtime-status] [65254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.468Z] [runtime-status] [65254] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.468Z] [runtime-status] [65254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:18:03.469Z] [runtime-status] [65254] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:18:03.545Z] [runtime-status] [65254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:18:03.546Z] [runtime-status] [65254] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:18:03.546Z] [runtime-status] [65254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:18:03.550Z] [runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:18:03.553Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:18:03.560Z] [runtime-status] [65254] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server handling POST request"}}
[info] >  Payment request received for  679486 {"user":"Payment request received for  679486","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  679486"}}
[debug] [2021-01-12T21:18:03.571Z] [runtime-status] [65254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:18:03.854Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE"}}
[debug] [2021-01-12T21:18:03.854Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:18:16.517Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:18:16.517Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:18:16.517Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:18:16.518Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:18:16.518Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:16.518Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY"}}
[debug] [2021-01-12T21:18:16.523Z] [runtime-status] [65243] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:18:16.525Z] [runtime-status] [65243] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:18:16.525Z] [runtime-status] [65243] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:18:16.526Z] [runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:16.526Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:18:16.533Z] [runtime-status] [65243] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:18:16.533Z] [runtime-status] [65243] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:18:16.538Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: IDLE"}}
[debug] [2021-01-12T21:18:16.538Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:18:16.539Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2021-01-12T21:18:16.539Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2021-01-12T21:18:16.539Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:18:16.539Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:18:16.539Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: Assigning socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:16.539Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: BUSY"}}
[debug] [2021-01-12T21:18:16.548Z] [runtime-status] [65243] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:18:16.549Z] [runtime-status] [65243] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:18:16.550Z] [runtime-status] [65243] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:18:16.550Z] [runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Attempting to listen to socketPath: /tmp/fire_emu_65243.sock"}}
[debug] [2021-01-12T21:18:16.550Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:18:16.564Z] [runtime-status] [65243] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:18:16.571Z] [runtime-status] [65243] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65243] Ephemeral server survived."}}
[info] >  (node:65243) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65243) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65243) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65243) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65243) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65243) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65243) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65243) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65243) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:20:26.754Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: exited"}}
[debug] [2021-01-12T21:20:26.754Z] [worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c5356786-48aa-48de-8ec4-ece07f2755eb]: FINISHED"}}
[debug] [2021-01-12T21:20:26.754Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:20:41.639Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: exited"}}
[debug] [2021-01-12T21:20:41.639Z] [worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72807d97-6d78-4000-9cd2-1e30c9d46080]: FINISHED"}}
[debug] [2021-01-12T21:20:41.640Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:22:26.752Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: exited"}}
[debug] [2021-01-12T21:22:26.752Z] [worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3e11dc39-1f62-4b4f-92c9-8dd7d3d22dc3]: FINISHED"}}
[debug] [2021-01-12T21:22:26.752Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:22:42.666Z] [worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: exited"}}
[debug] [2021-01-12T21:22:42.667Z] [worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2efea17-45d6-4f73-a869-fbfafce1d44c]: FINISHED"}}
[debug] [2021-01-12T21:22:42.668Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:23:16.564Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: exited"}}
[debug] [2021-01-12T21:23:16.566Z] [worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6f928f87-5b0d-49f5-bcf7-ee7c16a660ea]: FINISHED"}}
[debug] [2021-01-12T21:23:16.566Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:37:36.365Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:37:36.365Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:37:36.366Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=29998 --> api
[debug] [2021-01-12T21:37:36.366Z] [worker-pool] Cleaned up workers for api: 6 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 6 --> 1"}}
[debug] [2021-01-12T21:37:36.366Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:37:36.366Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:37:36.366Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY"}}
[debug] [2021-01-12T21:37:36.369Z] [runtime-status] [65254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:37:36.374Z] [runtime-status] [65254] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:37:36.387Z] [runtime-status] [65254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:37:36.388Z] [runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:37:36.396Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:37:36.425Z] [runtime-status] [65254] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:37:36.425Z] [runtime-status] [65254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:37:36.426Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE"}}
[debug] [2021-01-12T21:37:36.426Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:37:36.469Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:37:36.470Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:37:36.470Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=29998 --> api
[debug] [2021-01-12T21:37:36.470Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:37:36.470Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:37:36.470Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY"}}
[debug] [2021-01-12T21:37:36.474Z] [runtime-status] [65254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:37:36.484Z] [runtime-status] [65254] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:37:36.484Z] [runtime-status] [65254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:37:36.484Z] [runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:37:36.489Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:37:36.508Z] [runtime-status] [65254] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server handling POST request"}}
[debug] [2021-01-12T21:37:36.511Z] [runtime-status] [65254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server survived."}}
[info] >  Payment request received for  29998 {"user":"Payment request received for  29998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  29998"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:37:36.708Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE"}}
[debug] [2021-01-12T21:37:36.709Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:38:55.074Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:38:55.074Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:38:55.075Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:38:55.075Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:38:55.075Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:38:55.075Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY"}}
[debug] [2021-01-12T21:38:55.076Z] [runtime-status] [65254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:38:55.076Z] [runtime-status] [65254] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:38:55.076Z] [runtime-status] [65254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:38:55.076Z] [runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:38:55.077Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:38:55.083Z] [runtime-status] [65254] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:38:55.084Z] [runtime-status] [65254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:38:55.091Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: IDLE"}}
[debug] [2021-01-12T21:38:55.092Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:38:55.095Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:38:55.096Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:38:55.096Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:38:55.096Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:38:55.096Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: Assigning socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:38:55.096Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: BUSY"}}
[debug] [2021-01-12T21:38:55.104Z] [runtime-status] [65254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:38:55.105Z] [runtime-status] [65254] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:38:55.105Z] [runtime-status] [65254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:38:55.106Z] [runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Attempting to listen to socketPath: /tmp/fire_emu_65254.sock"}}
[debug] [2021-01-12T21:38:55.106Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:38:55.133Z] [runtime-status] [65254] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:38:55.142Z] [runtime-status] [65254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [65254] Ephemeral server survived."}}
[info] >  (node:65254) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:65254) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65254) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:65254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:65254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:65254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:65254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:65254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:43:27.086Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:43:27.086Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:43:27.086Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=6498 --> api
[debug] [2021-01-12T21:43:27.113Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:43:27.113Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T21:43:27.113Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:43:27.113Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:43:27.113Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY"}}
[debug] [2021-01-12T21:43:29.025Z] [runtime-status] [67226] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:43:29.040Z] [runtime-status] [67226] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:43:29.070Z] [runtime-status] [67226] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.079Z] [runtime-status] [67226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.102Z] [runtime-status] [67226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.138Z] [runtime-status] [67226] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:43:29.164Z] [runtime-status] [67226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.466Z] [runtime-status] [67226] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:43:29.472Z] [runtime-status] [67226] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:43:29.481Z] [runtime-status] [67226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.490Z] [runtime-status] [67226] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.491Z] [runtime-status] [67226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:29.491Z] [runtime-status] [67226] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:43:30.183Z] [runtime-status] [67226] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:43:30.184Z] [runtime-status] [67226] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:43:30.185Z] [runtime-status] [67226] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:43:30.204Z] [runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:43:30.220Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:43:30.273Z] [runtime-status] [67226] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:43:30.287Z] [runtime-status] [67226] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server survived."}}
[debug] [2021-01-12T21:43:30.294Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:43:30.294Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:43:30.294Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=6498 --> api
[debug] [2021-01-12T21:43:30.314Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:43:30.315Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T21:43:30.316Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:43:30.316Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:43:30.316Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:43:30.338Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE"}}
[debug] [2021-01-12T21:43:30.338Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:43:31.667Z] [runtime-status] [67238] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:43:31.677Z] [runtime-status] [67238] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:43:31.683Z] [runtime-status] [67238] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.691Z] [runtime-status] [67238] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.691Z] [runtime-status] [67238] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.713Z] [runtime-status] [67238] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:43:31.714Z] [runtime-status] [67238] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.809Z] [runtime-status] [67238] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:43:31.812Z] [runtime-status] [67238] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:43:31.815Z] [runtime-status] [67238] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.820Z] [runtime-status] [67238] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.820Z] [runtime-status] [67238] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:43:31.821Z] [runtime-status] [67238] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:43:32.036Z] [runtime-status] [67238] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:43:32.037Z] [runtime-status] [67238] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:43:32.037Z] [runtime-status] [67238] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:43:32.064Z] [runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:43:32.075Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:43:32.106Z] [runtime-status] [67238] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server handling POST request"}}
[info] >  Payment request received for  6498 {"user":"Payment request received for  6498","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  6498"}}
[debug] [2021-01-12T21:43:32.149Z] [runtime-status] [67238] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:43:32.507Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE"}}
[debug] [2021-01-12T21:43:32.508Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:43:55.125Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: exited"}}
[debug] [2021-01-12T21:43:55.126Z] [worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7c82e7b0-19b5-4037-8284-7e768e0f4836]: FINISHED"}}
[debug] [2021-01-12T21:43:55.126Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:45:19.233Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:45:19.233Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:19.234Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=6498 --> api
[debug] [2021-01-12T21:45:19.234Z] [worker-pool] Cleaned up workers for api: 3 --> 2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 2"}}
[debug] [2021-01-12T21:45:19.234Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:19.234Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:19.234Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY"}}
[debug] [2021-01-12T21:45:19.241Z] [runtime-status] [67226] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:19.244Z] [runtime-status] [67226] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:19.245Z] [runtime-status] [67226] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:19.245Z] [runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:19.252Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:19.274Z] [runtime-status] [67226] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:45:19.284Z] [runtime-status] [67226] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:19.294Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE"}}
[debug] [2021-01-12T21:45:19.295Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:45:19.296Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:45:19.296Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:19.296Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=6498 --> api
[debug] [2021-01-12T21:45:19.297Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:19.297Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:19.298Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY"}}
[debug] [2021-01-12T21:45:19.306Z] [runtime-status] [67226] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:19.310Z] [runtime-status] [67226] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:19.316Z] [runtime-status] [67226] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:19.317Z] [runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:19.318Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:19.341Z] [runtime-status] [67226] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server handling POST request"}}
[info] >  Payment request received for  6498 {"user":"Payment request received for  6498","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  6498"}}
[debug] [2021-01-12T21:45:19.381Z] [runtime-status] [67226] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:19.743Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE"}}
[debug] [2021-01-12T21:45:19.744Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:45:39.408Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:45:39.408Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:39.408Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:45:39.409Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:39.410Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:39.410Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY"}}
[debug] [2021-01-12T21:45:39.411Z] [runtime-status] [67226] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:39.411Z] [runtime-status] [67226] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:39.412Z] [runtime-status] [67226] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:39.412Z] [runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:39.412Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:39.429Z] [runtime-status] [67226] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:45:39.457Z] [runtime-status] [67226] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:39.459Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: IDLE"}}
[debug] [2021-01-12T21:45:39.460Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T21:45:39.475Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T21:45:39.476Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:39.477Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:45:39.477Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:39.480Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: Assigning socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:39.480Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: BUSY"}}
[debug] [2021-01-12T21:45:39.484Z] [runtime-status] [67226] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:39.488Z] [runtime-status] [67226] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:39.489Z] [runtime-status] [67226] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:39.489Z] [runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Attempting to listen to socketPath: /tmp/fire_emu_67226.sock"}}
[debug] [2021-01-12T21:45:39.520Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:39.538Z] [runtime-status] [67226] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:45:39.571Z] [runtime-status] [67226] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67226] Ephemeral server survived."}}
[info] >  (node:67226) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67226) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67226) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:67226) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:67226) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67226) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:67226) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67226) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67226) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:45:47.308Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:45:47.308Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:45:47.308Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=44999 --> api
[debug] [2021-01-12T21:45:47.308Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:47.308Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:47.308Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY"}}
[debug] [2021-01-12T21:45:47.314Z] [runtime-status] [67238] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:47.315Z] [runtime-status] [67238] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:47.316Z] [runtime-status] [67238] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:47.316Z] [runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:47.316Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:47.325Z] [runtime-status] [67238] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:45:47.338Z] [runtime-status] [67238] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:47.344Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE"}}
[debug] [2021-01-12T21:45:47.346Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:47.491Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:45:47.491Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:45:47.491Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=44999 --> api
[debug] [2021-01-12T21:45:47.491Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:47.492Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:47.492Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY"}}
[debug] [2021-01-12T21:45:47.495Z] [runtime-status] [67238] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:47.496Z] [runtime-status] [67238] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:47.497Z] [runtime-status] [67238] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:47.497Z] [runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:47.498Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:47.505Z] [runtime-status] [67238] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server handling POST request"}}
[info] >  Payment request received for  44999 {"user":"Payment request received for  44999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  44999"}}
[debug] [2021-01-12T21:45:47.522Z] [runtime-status] [67238] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:47.696Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE"}}
[debug] [2021-01-12T21:45:47.696Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:58.042Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:45:58.042Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:45:58.042Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:45:58.042Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:58.042Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:58.042Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY"}}
[debug] [2021-01-12T21:45:58.045Z] [runtime-status] [67238] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:58.051Z] [runtime-status] [67238] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:58.051Z] [runtime-status] [67238] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:58.051Z] [runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:58.051Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:58.053Z] [runtime-status] [67238] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T21:45:58.058Z] [runtime-status] [67238] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T21:45:58.059Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: IDLE"}}
[debug] [2021-01-12T21:45:58.059Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T21:45:58.171Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T21:45:58.172Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T21:45:58.172Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:45:58.172Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:45:58.172Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: Assigning socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:58.172Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: BUSY"}}
[debug] [2021-01-12T21:45:58.188Z] [runtime-status] [67238] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:45:58.193Z] [runtime-status] [67238] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:45:58.207Z] [runtime-status] [67238] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:45:58.211Z] [runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Attempting to listen to socketPath: /tmp/fire_emu_67238.sock"}}
[debug] [2021-01-12T21:45:58.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:45:58.253Z] [runtime-status] [67238] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:45:58.255Z] [runtime-status] [67238] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67238] Ephemeral server survived."}}
[info] >  (node:67238) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67238) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67238) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:67238) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:67238) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67238) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:67238) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67238) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67238) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:47:39.507Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T21:47:39.507Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T21:47:39.508Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:47:39.525Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:47:39.526Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T21:47:39.526Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:47:39.526Z] [worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: Assigning socketPath: /tmp/fire_emu_67478.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: Assigning socketPath: /tmp/fire_emu_67478.sock"}}
[debug] [2021-01-12T21:47:39.526Z] [worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: BUSY"}}
[debug] [2021-01-12T21:47:40.637Z] [runtime-status] [67478] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:47:40.643Z] [runtime-status] [67478] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:47:40.649Z] [runtime-status] [67478] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.651Z] [runtime-status] [67478] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.656Z] [runtime-status] [67478] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.661Z] [runtime-status] [67478] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:47:40.662Z] [runtime-status] [67478] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.744Z] [runtime-status] [67478] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:47:40.745Z] [runtime-status] [67478] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:47:40.747Z] [runtime-status] [67478] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.748Z] [runtime-status] [67478] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.749Z] [runtime-status] [67478] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:40.749Z] [runtime-status] [67478] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:47:40.938Z] [runtime-status] [67478] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:47:40.940Z] [runtime-status] [67478] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:47:40.940Z] [runtime-status] [67478] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:47:40.949Z] [runtime-status] [67478] Attempting to listen to socketPath: /tmp/fire_emu_67478.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Attempting to listen to socketPath: /tmp/fire_emu_67478.sock"}}
[debug] [2021-01-12T21:47:40.953Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:47:40.965Z] [runtime-status] [67478] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:47:41.003Z] [runtime-status] [67478] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67478] Ephemeral server survived."}}
[info] >  (node:67478) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67478) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67478) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:67478) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:67478) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67478) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:67478) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67478) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67478) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T21:47:58.190Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T21:47:58.191Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T21:47:58.191Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T21:47:58.203Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T21:47:58.203Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T21:47:58.203Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T21:47:58.203Z] [worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: Assigning socketPath: /tmp/fire_emu_67495.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: Assigning socketPath: /tmp/fire_emu_67495.sock"}}
[debug] [2021-01-12T21:47:58.203Z] [worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: BUSY"}}
[debug] [2021-01-12T21:47:59.412Z] [runtime-status] [67495] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T21:47:59.422Z] [runtime-status] [67495] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Disabled runtime features: undefined"}}
[debug] [2021-01-12T21:47:59.430Z] [runtime-status] [67495] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.442Z] [runtime-status] [67495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.445Z] [runtime-status] [67495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.452Z] [runtime-status] [67495] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T21:47:59.452Z] [runtime-status] [67495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.574Z] [runtime-status] [67495] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T21:47:59.574Z] [runtime-status] [67495] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T21:47:59.575Z] [runtime-status] [67495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.582Z] [runtime-status] [67495] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.582Z] [runtime-status] [67495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T21:47:59.583Z] [runtime-status] [67495] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T21:47:59.794Z] [runtime-status] [67495] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T21:47:59.796Z] [runtime-status] [67495] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T21:47:59.796Z] [runtime-status] [67495] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Running api in mode HTTPS"}}
[debug] [2021-01-12T21:47:59.826Z] [runtime-status] [67495] Attempting to listen to socketPath: /tmp/fire_emu_67495.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Attempting to listen to socketPath: /tmp/fire_emu_67495.sock"}}
[debug] [2021-01-12T21:47:59.842Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T21:47:59.869Z] [runtime-status] [67495] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T21:47:59.914Z] [runtime-status] [67495] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [67495] Ephemeral server survived."}}
[info] >  (node:67495) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:67495) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67495) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:67495) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:67495) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67495) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:67495) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:67495) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:67495) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:50:39.534Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: exited"}}
[debug] [2021-01-12T21:50:39.534Z] [worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8f63476-fb74-40aa-84a8-e6fd603f8df8]: FINISHED"}}
[debug] [2021-01-12T21:50:39.535Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:50:58.203Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: exited"}}
[debug] [2021-01-12T21:50:58.210Z] [worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04ca4ddc-63a0-4d97-ab62-800d1888173b]: FINISHED"}}
[debug] [2021-01-12T21:50:58.211Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:52:40.983Z] [worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: exited"}}
[debug] [2021-01-12T21:52:40.983Z] [worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e51f69b2-3208-47ff-b645-bae6ee239e79]: FINISHED"}}
[debug] [2021-01-12T21:52:40.984Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T21:52:59.814Z] [worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: exited"}}
[debug] [2021-01-12T21:52:59.814Z] [worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2ac9e852-8388-41e2-8344-6cbd08ff0f42]: FINISHED"}}
[debug] [2021-01-12T21:52:59.815Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T22:16:49.410Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T22:16:49.410Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T22:16:49.410Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=29998 --> api
[debug] [2021-01-12T22:16:49.410Z] [worker-pool] Cleaned up workers for api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 0"}}
[debug] [2021-01-12T22:16:49.430Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T22:16:49.430Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-01-12T22:16:49.430Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:16:49.431Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:49.431Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY"}}
[debug] [2021-01-12T22:16:50.183Z] [runtime-status] [69449] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T22:16:50.186Z] [runtime-status] [69449] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Disabled runtime features: undefined"}}
[debug] [2021-01-12T22:16:50.188Z] [runtime-status] [69449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.191Z] [runtime-status] [69449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.193Z] [runtime-status] [69449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.199Z] [runtime-status] [69449] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T22:16:50.200Z] [runtime-status] [69449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.252Z] [runtime-status] [69449] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T22:16:50.252Z] [runtime-status] [69449] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T22:16:50.253Z] [runtime-status] [69449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.254Z] [runtime-status] [69449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.255Z] [runtime-status] [69449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.255Z] [runtime-status] [69449] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T22:16:50.366Z] [runtime-status] [69449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:16:50.366Z] [runtime-status] [69449] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:16:50.367Z] [runtime-status] [69449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:16:50.372Z] [runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:50.375Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:16:50.382Z] [runtime-status] [69449] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:16:50.389Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T22:16:50.389Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T22:16:50.389Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=29998 --> api
[debug] [2021-01-12T22:16:50.395Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T22:16:50.395Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-01-12T22:16:50.395Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:16:50.396Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: Assigning socketPath: /tmp/fire_emu_69462.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: Assigning socketPath: /tmp/fire_emu_69462.sock"}}
[debug] [2021-01-12T22:16:50.396Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: BUSY"}}
[debug] [2021-01-12T22:16:50.397Z] [runtime-status] [69449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:16:50.397Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: IDLE"}}
[debug] [2021-01-12T22:16:50.398Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T22:16:50.909Z] [runtime-status] [69462] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T22:16:50.911Z] [runtime-status] [69462] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Disabled runtime features: undefined"}}
[debug] [2021-01-12T22:16:50.913Z] [runtime-status] [69462] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.914Z] [runtime-status] [69462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.915Z] [runtime-status] [69462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.920Z] [runtime-status] [69462] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T22:16:50.921Z] [runtime-status] [69462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.956Z] [runtime-status] [69462] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T22:16:50.957Z] [runtime-status] [69462] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T22:16:50.958Z] [runtime-status] [69462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.959Z] [runtime-status] [69462] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.960Z] [runtime-status] [69462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:16:50.960Z] [runtime-status] [69462] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T22:16:51.072Z] [runtime-status] [69462] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:16:51.072Z] [runtime-status] [69462] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:16:51.072Z] [runtime-status] [69462] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:16:51.078Z] [runtime-status] [69462] Attempting to listen to socketPath: /tmp/fire_emu_69462.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Attempting to listen to socketPath: /tmp/fire_emu_69462.sock"}}
[debug] [2021-01-12T22:16:51.081Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:16:51.088Z] [runtime-status] [69462] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Ephemeral server handling POST request"}}
[info] >  Payment request received for  29998 {"user":"Payment request received for  29998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  29998"}}
[debug] [2021-01-12T22:16:51.099Z] [runtime-status] [69462] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:16:51.348Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: IDLE"}}
[debug] [2021-01-12T22:16:51.348Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T22:16:58.751Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T22:16:58.751Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T22:16:58.751Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:16:58.751Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:16:58.751Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:58.751Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY"}}
[debug] [2021-01-12T22:16:58.752Z] [runtime-status] [69449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:16:58.752Z] [runtime-status] [69449] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:16:58.753Z] [runtime-status] [69449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:16:58.753Z] [runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:58.753Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:16:58.771Z] [runtime-status] [69449] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:16:58.771Z] [runtime-status] [69449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:16:58.774Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: IDLE"}}
[debug] [2021-01-12T22:16:58.774Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-01-12T22:16:58.780Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-01-12T22:16:58.780Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-01-12T22:16:58.780Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:16:58.780Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:16:58.781Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: Assigning socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:58.781Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: BUSY"}}
[debug] [2021-01-12T22:16:58.783Z] [runtime-status] [69449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:16:58.784Z] [runtime-status] [69449] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:16:58.784Z] [runtime-status] [69449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:16:58.784Z] [runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Attempting to listen to socketPath: /tmp/fire_emu_69449.sock"}}
[debug] [2021-01-12T22:16:58.785Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:16:58.788Z] [runtime-status] [69449] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T22:16:58.811Z] [runtime-status] [69449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69449] Ephemeral server survived."}}
[info] >  (node:69449) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:69449) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69449) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:69449) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:69449) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69449) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:69449) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:69449) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69449) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T22:18:58.789Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-01-12T22:18:58.790Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T22:18:58.790Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:18:58.790Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:18:58.790Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: Assigning socketPath: /tmp/fire_emu_69462.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: Assigning socketPath: /tmp/fire_emu_69462.sock"}}
[debug] [2021-01-12T22:18:58.790Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: BUSY"}}
[debug] [2021-01-12T22:18:58.794Z] [runtime-status] [69462] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:18:58.795Z] [runtime-status] [69462] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:18:58.795Z] [runtime-status] [69462] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:18:58.795Z] [runtime-status] [69462] Attempting to listen to socketPath: /tmp/fire_emu_69462.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Attempting to listen to socketPath: /tmp/fire_emu_69462.sock"}}
[debug] [2021-01-12T22:18:58.795Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:18:58.807Z] [runtime-status] [69462] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Ephemeral server handling POST request"}}
[debug] [2021-01-12T22:18:58.807Z] [runtime-status] [69462] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69462] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:69462) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:69462) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69462) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:69462) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:69462) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69462) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:69462) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:69462) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69462) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T22:18:59.364Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T22:18:59.364Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:18:59.364Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T22:18:59.384Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T22:18:59.384Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-01-12T22:18:59.384Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:18:59.384Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:18:59.384Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY"}}
[debug] [2021-01-12T22:19:01.042Z] [runtime-status] [69662] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T22:19:01.050Z] [runtime-status] [69662] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Disabled runtime features: undefined"}}
[debug] [2021-01-12T22:19:01.060Z] [runtime-status] [69662] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.064Z] [runtime-status] [69662] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.070Z] [runtime-status] [69662] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.078Z] [runtime-status] [69662] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T22:19:01.080Z] [runtime-status] [69662] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.180Z] [runtime-status] [69662] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T22:19:01.180Z] [runtime-status] [69662] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T22:19:01.183Z] [runtime-status] [69662] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.184Z] [runtime-status] [69662] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.185Z] [runtime-status] [69662] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:01.185Z] [runtime-status] [69662] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T22:19:01.460Z] [runtime-status] [69662] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:19:01.465Z] [runtime-status] [69662] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:19:01.465Z] [runtime-status] [69662] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:19:01.473Z] [runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:19:01.479Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:19:01.498Z] [runtime-status] [69662] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:19:01.511Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:19:01.512Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:19:01.513Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=19496 --> api
[debug] [2021-01-12T22:19:01.526Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T22:19:01.527Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T22:19:01.527Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:19:01.527Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:19:01.528Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY"}}
[debug] [2021-01-12T22:19:01.528Z] [runtime-status] [69662] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:19:01.534Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: IDLE"}}
[debug] [2021-01-12T22:19:01.535Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:19:02.955Z] [runtime-status] [69673] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T22:19:02.993Z] [runtime-status] [69673] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Disabled runtime features: undefined"}}
[debug] [2021-01-12T22:19:03.029Z] [runtime-status] [69673] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.040Z] [runtime-status] [69673] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.040Z] [runtime-status] [69673] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.057Z] [runtime-status] [69673] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T22:19:03.059Z] [runtime-status] [69673] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.178Z] [runtime-status] [69673] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T22:19:03.182Z] [runtime-status] [69673] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T22:19:03.188Z] [runtime-status] [69673] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.191Z] [runtime-status] [69673] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.194Z] [runtime-status] [69673] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:19:03.199Z] [runtime-status] [69673] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T22:19:03.612Z] [runtime-status] [69673] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:19:03.613Z] [runtime-status] [69673] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:19:03.613Z] [runtime-status] [69673] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:19:03.622Z] [runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:19:03.629Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:19:03.656Z] [runtime-status] [69673] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server handling POST request"}}
[info] >  Payment request received for  19496 {"user":"Payment request received for  19496","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  19496"}}
[debug] [2021-01-12T22:19:03.715Z] [runtime-status] [69673] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:19:04.118Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE"}}
[debug] [2021-01-12T22:19:04.118Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T22:19:10.552Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T22:19:10.553Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:19:10.553Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:19:10.553Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:19:10.553Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:19:10.553Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY"}}
[debug] [2021-01-12T22:19:10.562Z] [runtime-status] [69662] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:19:10.563Z] [runtime-status] [69662] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:19:10.564Z] [runtime-status] [69662] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:19:10.564Z] [runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:19:10.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:19:10.583Z] [runtime-status] [69662] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:19:10.585Z] [runtime-status] [69662] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:19:10.606Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: IDLE"}}
[debug] [2021-01-12T22:19:10.614Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-01-12T22:19:10.627Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-01-12T22:19:10.628Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:19:10.629Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:19:10.629Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:19:10.629Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: Assigning socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:19:10.630Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: BUSY"}}
[debug] [2021-01-12T22:19:10.635Z] [runtime-status] [69662] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:19:10.638Z] [runtime-status] [69662] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:19:10.638Z] [runtime-status] [69662] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:19:10.638Z] [runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Attempting to listen to socketPath: /tmp/fire_emu_69662.sock"}}
[debug] [2021-01-12T22:19:10.641Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:19:10.665Z] [runtime-status] [69662] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T22:19:10.698Z] [runtime-status] [69662] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69662] Ephemeral server survived."}}
[info] >  (node:69662) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:69662) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69662) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:69662) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:69662) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69662) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:69662) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:69662) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69662) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-01-12T22:21:18.230Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:21:18.231Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:21:18.231Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=179996 --> api
[debug] [2021-01-12T22:21:18.231Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:21:18.232Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:18.232Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY"}}
[debug] [2021-01-12T22:21:18.233Z] [runtime-status] [69673] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:21:18.235Z] [runtime-status] [69673] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:21:18.235Z] [runtime-status] [69673] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:21:18.235Z] [runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:18.236Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:21:18.247Z] [runtime-status] [69673] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:21:18.251Z] [runtime-status] [69673] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:21:18.256Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE"}}
[debug] [2021-01-12T22:21:18.256Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:21:18.264Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:21:18.264Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:21:18.264Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=179996 --> api
[debug] [2021-01-12T22:21:18.264Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:21:18.264Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:18.265Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY"}}
[debug] [2021-01-12T22:21:18.279Z] [runtime-status] [69673] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:21:18.282Z] [runtime-status] [69673] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:21:18.282Z] [runtime-status] [69673] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:21:18.283Z] [runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:18.283Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:21:18.303Z] [runtime-status] [69673] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server handling POST request"}}
[info] >  Payment request received for  179996 {"user":"Payment request received for  179996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  179996"}}
[debug] [2021-01-12T22:21:18.306Z] [runtime-status] [69673] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:21:18.550Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE"}}
[debug] [2021-01-12T22:21:18.550Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:21:29.406Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:21:29.406Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:21:29.406Z] Accepted request OPTIONS /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:21:29.406Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:21:29.406Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:29.406Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY"}}
[debug] [2021-01-12T22:21:29.408Z] [runtime-status] [69673] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:21:29.414Z] [runtime-status] [69673] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:21:29.414Z] [runtime-status] [69673] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:21:29.414Z] [runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:29.415Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:21:29.427Z] [runtime-status] [69673] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server handling OPTIONS request"}}
[debug] [2021-01-12T22:21:29.428Z] [runtime-status] [69673] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-01-12T22:21:29.434Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: IDLE"}}
[debug] [2021-01-12T22:21:29.434Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:21:29.438Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:21:29.439Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:21:29.439Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:21:29.439Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:21:29.439Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: Assigning socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:29.439Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: BUSY"}}
[debug] [2021-01-12T22:21:29.443Z] [runtime-status] [69673] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:21:29.445Z] [runtime-status] [69673] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:21:29.445Z] [runtime-status] [69673] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:21:29.445Z] [runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Attempting to listen to socketPath: /tmp/fire_emu_69673.sock"}}
[debug] [2021-01-12T22:21:29.446Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:21:29.466Z] [runtime-status] [69673] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server handling POST request"}}
[debug] [2021-01-12T22:21:29.466Z] [runtime-status] [69673] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [69673] Ephemeral server survived."}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[info] >  (node:69673) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:69673) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69673) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:69673) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:69673) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69673) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:69673) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:69673) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:69673) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T22:21:58.793Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: exited"}}
[debug] [2021-01-12T22:21:58.793Z] [worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-86f3cad9-cbfa-4ac3-b5e3-be239591e138]: FINISHED"}}
[debug] [2021-01-12T22:21:58.793Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-01-12T22:23:29.451Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2021-01-12T22:23:29.451Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2021-01-12T22:23:29.451Z] Accepted request POST /clone-4d425/us-central1/api/payments/create?total=0 --> api
[debug] [2021-01-12T22:23:29.451Z] [worker-pool] Cleaned up workers for api: 4 --> 3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 4 --> 3"}}
[debug] [2021-01-12T22:23:29.470Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-01-12T22:23:29.470Z] [worker-pool] Adding worker with key api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=4"}}
[debug] [2021-01-12T22:23:29.470Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-01-12T22:23:29.470Z] [worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: Assigning socketPath: /tmp/fire_emu_70023.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: Assigning socketPath: /tmp/fire_emu_70023.sock"}}
[debug] [2021-01-12T22:23:29.470Z] [worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: BUSY"}}
[debug] [2021-01-12T22:23:31.045Z] [runtime-status] [70023] Functions runtime initialized. {"cwd":"/home/jim/Documents/amazon-clone/functions","node_version":"10.19.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Functions runtime initialized. {\"cwd\":\"/home/jim/Documents/amazon-clone/functions\",\"node_version\":\"10.19.0\"}"}}
[debug] [2021-01-12T22:23:31.051Z] [runtime-status] [70023] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Disabled runtime features: undefined"}}
[debug] [2021-01-12T22:23:31.060Z] [runtime-status] [70023] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.077Z] [runtime-status] [70023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.080Z] [runtime-status] [70023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.106Z] [runtime-status] [70023] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-01-12T22:23:31.110Z] [runtime-status] [70023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.238Z] [runtime-status] [70023] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-01-12T22:23:31.240Z] [runtime-status] [70023] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-01-12T22:23:31.245Z] [runtime-status] [70023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.253Z] [runtime-status] [70023] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.274Z] [runtime-status] [70023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.0","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.0\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-01-12T22:23:31.274Z] [runtime-status] [70023] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/jim/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-01-12T22:23:31.754Z] [runtime-status] [70023] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-01-12T22:23:31.766Z] [runtime-status] [70023] triggerDefinition {"timeout":"300s","availableMemoryMb":1024,"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] triggerDefinition {\"timeout\":\"300s\",\"availableMemoryMb\":1024,\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-01-12T22:23:31.767Z] [runtime-status] [70023] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Running api in mode HTTPS"}}
[debug] [2021-01-12T22:23:31.780Z] [runtime-status] [70023] Attempting to listen to socketPath: /tmp/fire_emu_70023.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Attempting to listen to socketPath: /tmp/fire_emu_70023.sock"}}
[debug] [2021-01-12T22:23:31.788Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-01-12T22:23:31.847Z] [runtime-status] [70023] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Ephemeral server handling POST request"}}
[info] >  Payment request received for  0 {"user":"Payment request received for  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received for  0"}}
[debug] [2021-01-12T22:23:31.911Z] [runtime-status] [70023] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [70023] Ephemeral server survived."}}
[info] >  (node:70023) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:70023) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:70023) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33) {"user":"    at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.res.once (/home/jim/Documents/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:190:33)"}}
[info] >      at Object.onceWrapper (events.js:286:20) {"user":"    at Object.onceWrapper (events.js:286:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:286:20)"}}
[info] >      at IncomingMessage.emit (events.js:203:15) {"user":"    at IncomingMessage.emit (events.js:203:15)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:203:15)"}}
[info] >      at endReadableNT (_stream_readable.js:1145:12) {"user":"    at endReadableNT (_stream_readable.js:1145:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1145:12)"}}
[info] >      at process._tickCallback (internal/process/next_tick.js:63:19) {"user":"    at process._tickCallback (internal/process/next_tick.js:63:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at process._tickCallback (internal/process/next_tick.js:63:19)"}}
[info] >  (node:70023) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1) {"user":"(node:70023) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:70023) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)"}}
[info] >  (node:70023) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:70023) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:70023) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T22:23:58.802Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: exited"}}
[debug] [2021-01-12T22:23:58.802Z] [worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-00ddd550-49ac-4f2b-a012-1fe8f5ae8c1b]: FINISHED"}}
[debug] [2021-01-12T22:23:58.802Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T22:24:10.638Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: exited"}}
[debug] [2021-01-12T22:24:10.638Z] [worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-122a97f3-c56f-4798-90aa-68081abefd49]: FINISHED"}}
[debug] [2021-01-12T22:24:10.638Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T22:26:29.452Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: exited"}}
[debug] [2021-01-12T22:26:29.452Z] [worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-1e8d74c6-27f6-4514-9535-5a3da3e71d27]: FINISHED"}}
[debug] [2021-01-12T22:26:29.453Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~300s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~300s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641 {"user":"/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19) {"user":"    at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout.setTimeout [as _onTimeout] (/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:641:19)"}}
[info] >      at ontimeout (timers.js:436:11) {"user":"    at ontimeout (timers.js:436:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ontimeout (timers.js:436:11)"}}
[info] >      at tryOnTimeout (timers.js:300:5) {"user":"    at tryOnTimeout (timers.js:300:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at tryOnTimeout (timers.js:300:5)"}}
[info] >      at listOnTimeout (timers.js:263:5) {"user":"    at listOnTimeout (timers.js:263:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (timers.js:263:5)"}}
[info] >      at Timer.processTimers (timers.js:223:10) {"user":"    at Timer.processTimers (timers.js:223:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timer.processTimers (timers.js:223:10)"}}
[debug] [2021-01-12T22:28:31.766Z] [worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: exited"}}
[debug] [2021-01-12T22:28:31.767Z] [worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6c9cad3-c38c-477d-a797-b8b64ee66cc3]: FINISHED"}}
[debug] [2021-01-12T22:28:31.768Z] [work-queue] {"queueLength":0,"workRunningCount":0}
