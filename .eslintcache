[{"/home/jim/Documents/amazon-clone/src/index.js":"1","/home/jim/Documents/amazon-clone/src/App.js":"2","/home/jim/Documents/amazon-clone/src/reportWebVitals.js":"3","/home/jim/Documents/amazon-clone/src/components/Header/Header.js":"4","/home/jim/Documents/amazon-clone/src/components/Home/Home.js":"5","/home/jim/Documents/amazon-clone/src/components/Product/Product.js":"6","/home/jim/Documents/amazon-clone/src/assets/productConstants.js":"7","/home/jim/Documents/amazon-clone/src/components/Checkout/Checkout.js":"8","/home/jim/Documents/amazon-clone/src/components/Subtotal/Subtotal.js":"9","/home/jim/Documents/amazon-clone/src/utils/StateProvider.js":"10","/home/jim/Documents/amazon-clone/src/utils/reducer.js":"11","/home/jim/Documents/amazon-clone/src/components/Checkout/CheckoutProduct/CheckoutProduct.js":"12","/home/jim/Documents/amazon-clone/src/components/Login/Login.js":"13","/home/jim/Documents/amazon-clone/src/utils/firebase.js":"14","/home/jim/Documents/amazon-clone/src/utils/utils.js":"15","/home/jim/Documents/amazon-clone/src/assets/images.js":"16","/home/jim/Documents/amazon-clone/src/components/Payment/Payment.js":"17","/home/jim/Documents/amazon-clone/src/utils/axios.js":"18"},{"size":701,"mtime":1610060315160,"results":"19","hashOfConfig":"20"},{"size":1693,"mtime":1610404511643,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1609793801998,"results":"22","hashOfConfig":"20"},{"size":2040,"mtime":1610431441812,"results":"23","hashOfConfig":"20"},{"size":1120,"mtime":1610221403760,"results":"24","hashOfConfig":"20"},{"size":1358,"mtime":1610431236956,"results":"25","hashOfConfig":"20"},{"size":1697,"mtime":1610350095515,"results":"26","hashOfConfig":"20"},{"size":1840,"mtime":1610414419479,"results":"27","hashOfConfig":"20"},{"size":1354,"mtime":1610418129571,"results":"28","hashOfConfig":"20"},{"size":364,"mtime":1609896847453,"results":"29","hashOfConfig":"20"},{"size":1240,"mtime":1610133817474,"results":"30","hashOfConfig":"20"},{"size":1426,"mtime":1610431137034,"results":"31","hashOfConfig":"20"},{"size":1954,"mtime":1610411232033,"results":"32","hashOfConfig":"20"},{"size":506,"mtime":1610062471905,"results":"33","hashOfConfig":"20"},{"size":369,"mtime":1610136875634,"results":"34","hashOfConfig":"20"},{"size":553,"mtime":1610221585280,"results":"35","hashOfConfig":"20"},{"size":4835,"mtime":1610432716333,"results":"36","hashOfConfig":"20"},{"size":154,"mtime":1610431800124,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"csimcx",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"40"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/home/jim/Documents/amazon-clone/src/index.js",[],["78","79"],"/home/jim/Documents/amazon-clone/src/App.js",[],"/home/jim/Documents/amazon-clone/src/reportWebVitals.js",[],"/home/jim/Documents/amazon-clone/src/components/Header/Header.js",[],"/home/jim/Documents/amazon-clone/src/components/Home/Home.js",[],"/home/jim/Documents/amazon-clone/src/components/Product/Product.js",[],"/home/jim/Documents/amazon-clone/src/assets/productConstants.js",[],["80","81"],"/home/jim/Documents/amazon-clone/src/components/Checkout/Checkout.js",[],"/home/jim/Documents/amazon-clone/src/components/Subtotal/Subtotal.js",[],"/home/jim/Documents/amazon-clone/src/utils/StateProvider.js",[],"/home/jim/Documents/amazon-clone/src/utils/reducer.js",[],"/home/jim/Documents/amazon-clone/src/components/Checkout/CheckoutProduct/CheckoutProduct.js",[],"/home/jim/Documents/amazon-clone/src/components/Login/Login.js",[],"/home/jim/Documents/amazon-clone/src/utils/firebase.js",[],"/home/jim/Documents/amazon-clone/src/utils/utils.js",[],"/home/jim/Documents/amazon-clone/src/assets/images.js",[],["82","83"],"/home/jim/Documents/amazon-clone/src/components/Payment/Payment.js",["84","85"],"import { Button, Typography } from \"@material-ui/core\";\nimport { useElements, useStripe, CardElement } from \"@stripe/react-stripe-js\";\nimport axios from \"../../utils/axios\";\nimport React, { useEffect, useState } from \"react\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { getBasketTotal } from \"../../utils/reducer\";\nimport { useStateValue } from \"../../utils/StateProvider\";\nimport CheckoutProduct from \"../Checkout/CheckoutProduct/CheckoutProduct\";\nimport \"./Payment.css\";\n\nfunction Payment() {\n  const [{ basket, user }] = useStateValue();\n\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const history = useHistory();\n\n  const [succeeded, setSucceeded] = useState(false);\n  const [processing, setProcessing] = useState(\"\");\n\n  const [error, setError] = useState(null);\n  const [disabled, setDisabled] = useState(true);\n\n  const [clientSecret, setClientSecret] = useState(true);\n\n  useEffect(() => {\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: \"post\",\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\n      });\n      setClientSecret(response.data.clientSecret);\n    };\n\n    getClientSecret();\n  }, [basket]);\n\n  // console.log(\"The secret key : \", clientSecret);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n\n    const payload = await stripe\n      .confirmCardPayment(clientSecret, {\n        payment_method: {\n          card: elements.getElement(CardElement),\n        },\n      })\n      .then(({ paymentIntent }) => {\n        setSucceeded(true);\n        setError(null);\n        setProcessing(false);\n\n        history.replace(\"/orders\");\n      });\n  };\n\n  const handleChange = (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  };\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <Typography variant=\"h2\" className=\"checkout__items\">\n          Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\n        </Typography>\n\n        {/* Shipping Address */}\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <Typography variant=\"h5\">Shipping Address</Typography>\n          </div>\n          <div className=\"payment__address\">\n            <Typography variant=\"body1\">{user?.email}</Typography>\n            <Typography variant=\"body1\">123 test ave</Typography>\n            <Typography variant=\"body1\">test, ts</Typography>\n          </div>\n        </div>\n\n        {/* Payment Method */}\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <Typography variant=\"h5\">Payment Method</Typography>\n          </div>\n          <div className=\"payment__details\">\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n            </form>\n          </div>\n        </div>\n\n        {/* Review Items */}\n\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            <Typography variant=\"h5\">Review items and shipping</Typography>\n          </div>\n          <div className=\"payment__items\">\n            {basket.map((item, i) => (\n              <CheckoutProduct\n                id=\"checkout__products\"\n                key={item.title + item.price + i}\n                title={item.title}\n                price={item.price}\n                imageUrl={item.imageUrl}\n                rating={item.rating}\n              />\n            ))}\n          </div>\n        </div>\n\n        {/* Place Order */}\n\n        <div className=\"payment__section\">\n          <div className=\"button__filler\"></div>\n          <Button\n            disabled={processing || disabled || succeeded}\n            variant=\"contained\"\n            id=\"button\"\n          >\n            <span>{processing ? <p>Processing</p> : \"Place your order\"}</span>\n          </Button>\n          <div className=\"payment__priceContainer\">\n            <CurrencyFormat\n              renderText={(value) => (\n                <div className=\"currency__output\">\n                  <Typography variant=\"h6\" style={{ color: \"#B12704\" }}>\n                    <strong>Order total: {value}</strong>\n                  </Typography>\n                  <Typography variant=\"caption\">\n                    By placing your order, you agree to Amazon Clone's privacy\n                    notice and conditions of use.\n                  </Typography>\n                </div>\n              )}\n              decimalScale={2}\n              value={getBasketTotal(basket)}\n              displayType={\"text\"}\n              thousandSeparator={true}\n              prefix={\"$\"}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Payment;\n","/home/jim/Documents/amazon-clone/src/utils/axios.js",[],{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"86","replacedBy":"90"},{"ruleId":"88","replacedBy":"91"},{"ruleId":"86","replacedBy":"92"},{"ruleId":"88","replacedBy":"93"},{"ruleId":"94","severity":1,"message":"95","line":23,"column":10,"nodeType":"96","messageId":"97","endLine":23,"endColumn":15},{"ruleId":"94","severity":1,"message":"98","line":46,"column":11,"nodeType":"96","messageId":"97","endLine":46,"endColumn":18},"no-native-reassign",["99"],"no-negated-in-lhs",["100"],["99"],["100"],["99"],["100"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","'payload' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]